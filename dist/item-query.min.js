!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([,function(t,e,n){"use strict";var r=n(14),a=n.n(r),i=n(17),o=n.n(i),s={element:{remove:function(){Array.from(arguments).forEach(function(t){t&&t.parentNode.removeChild(t)})},removeAllChild:function(t){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}},setAttributes:function(t,e){Object.keys(e).forEach(function(n){null!==e[n]&&t.setAttribute(n,e[n])})},simpleCreateHTML:function(t,e,n,r){var a,i=document.createElement(t);null!=e&&(Array.isArray(e)?(a=i.classList).add.apply(a,o()(e)):i.classList.add(e));return null!=n&&(i.innerHTML=n),null!=r&&s.element.setAttributes(i,r),i},convertRemToPixels:function(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}},object:{empty:function(t){null!==t&&"object"===a()(t)&&Object.keys(t).forEach(function(e){delete t[e]})},isEmpty:function(t){return"object"!==a()(t)||0==Object.keys(t).length}},svg:{create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElementNS("http://www.w3.org/2000/svg","svg");return n=Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:t,height:e,viewBox:"0 0 ".concat(t," ").concat(e)},n),s.element.setAttributes(r,n),r},drawText:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=document.createElementNS("http://www.w3.org/2000/svg","text");return r=Object.assign({x:t,y:e},r),s.element.setAttributes(a,r),a.innerHTML=n,a},drawCircle:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=document.createElementNS("http://www.w3.org/2000/svg","circle");return r=Object.assign({cx:t,cy:e,r:n},r),s.element.setAttributes(a,r),a},drawLine:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=document.createElementNS("http://www.w3.org/2000/svg","line");return a=Object.assign({x1:t,y1:e,x2:n,y2:r},a),s.element.setAttributes(i,a),i},drawPath:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElementNS("http://www.w3.org/2000/svg","path");return e=Object.assign({d:t},e),s.element.setAttributes(n,e),n},drawSector:function(t,e,n,r,a,i,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=document.createElementNS("http://www.w3.org/2000/svg","path");return c=Object.assign({d:s.svg.getSectorD(t,e,n,r,a,i,o),fill:"none"},c),s.element.setAttributes(l,c),l},getSectorD:function(t,e,n,r,a,i,o){var s=Math.PI/180,c=n*Math.cos(i*s)+t,l=-n*Math.sin(i*s)+e,u=n*Math.cos(a*s)+t,p=-n*Math.sin(a*s)+e,d=r*Math.cos(a*s)+t,h=-r*Math.sin(a*s)+e,f=r*Math.cos(i*s)+t,v=-r*Math.sin(i*s)+e;return"M".concat(c," ").concat(l,"A").concat(n," ").concat(n," 0 0 ").concat(1==o?0:1," ").concat(u," ").concat(p,"L").concat(d," ").concat(h,"A").concat(r," ").concat(r," 0 0 ").concat(o," ").concat(f," ").concat(v,"Z")},createAnimate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({attributeName:t,repeatCount:"indefinite"},e);var n=document.createElementNS("http://www.w3.org/2000/svg","animate");return s.element.setAttributes(n,e),n},drawImage:function(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=document.createElementNS("http://www.w3.org/2000/svg","image");return i=Object.assign({x:e,y:n,width:r,height:a},i),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),s.element.setAttributes(o,i),o},createEmpty:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElementNS("http://www.w3.org/2000/svg",t);return s.element.setAttributes(n,e),n},createSimpleImagePattern:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=document.createElementNS("http://www.w3.org/2000/svg","pattern");return a=Object.assign({width:n,height:r,id:t},a),s.element.setAttributes(o,a),o.appendChild(s.svg.drawImage(0,0,e,n,r,i)),o},createLinearGradient:function(t,e,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");return o=Object.assign({id:t,x1:e,y1:n,x2:r,y2:a},o),s.element.setAttributes(c,o),i.forEach(function(t){return c.appendChild(s.svg.createEmpty("stop",t))}),c},createRadialGradient:function(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");return i=Object.assign({id:t,cx:e,cy:n,r:r},i),s.element.setAttributes(o,i),a.forEach(function(t){return o.appendChild(s.svg.createEmpty("stop",t))}),o}}};e.a=s},,function(t,e,n){"use strict";var r={"Page Title":"布偶的魔法書",global:{second:"秒",cancel:"取消"}},a={"Page Title":"Cy's Grimoire",global:{second:" sec",cancel:"cancel"}},i={};function o(t,e){e=e.split("/");for(var n=0,r=t;n!==e.length;)if(r=r[e[n]],++n,void 0===r)return;return r}function s(t){Object.assign(r,t.zh_tw),Object.assign(a,t.en),Object.assign(i,t.ja)}function c(t,e){var n=[a,r,i],s=o(n[1],t);if(void 0===s){var c=!1;return n.forEach(function(e){c||void 0!==(s=o(e,t))&&(c=!0)}),void 0===s?(console.warn("[Unknow Language data] id: ".concat(t)),console.log((new Error).stack),console.log(n),"???"):s}return e&&(s=s.replace(/\$(\d+)/,function(t,n){return void 0!==e[n]&&null!==e[n]?e[n]:"?"})),s}function l(){document.querySelectorAll("*[data-langid]").forEach(function(t){t.innerHTML=c(t.getAttribute("data-langid")),t.removeAttribute("data-langid")})}n.d(e,"a",function(){return c}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return l});e.d=c},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},,,function(t,e,n){"use strict";e.a={}},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r={node_id:"loading-page"};function a(t){return new Promise(function(e,n){var a=document.createElement("div");a.innerHTML=t,document.querySelector("div#".concat(r.node_id," > div.msg")).appendChild(a),e()})}function i(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");n.innerHTML=t,document.querySelector("div#".concat(r.node_id," > div.msg")).appendChild(n),e&&(no_error=!1)}function o(){document.getElementById(r.node_id).classList.add("hidden")}},function(t,e,n){"use strict";var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(3);function c(t){return Object(s.d)("stat base/"+t)}var l=function(){function t(e,n,r){a()(this,t),this.baseName=e,this.text=n,this.hasMultiplier=r,this.attributes={}}return o()(t,[{key:"appendAttribute",value:function(t,e){return t&&null!=e&&(this.attributes[t]=e),this}},{key:"show",value:function(e,n,r){var a=this;r=Object.assign({processPositiveValue:null,processNegativeValue:null,set_sign:null,calc:!0},r),"number"!=typeof n&&r.calc&&(n=parseFloat(n));var i=function(t,e){var i=r.set_sign?r.set_sign:n<0?"":"+",o=(t=t.split("::")[n<0?1:0]||t).replace("$t",a.text).replace("$u",e).replace("$s",i).replace("$v",r.calc?Math.floor(n):n).replace(/\$(\d+)d/,function(t,e){return n.toFixed(parseInt(e))});return r.processPositiveValue&&n>=0&&(o=r.processPositiveValue(o)),r.processNegativeValue&&n<0&&(o=r.processNegativeValue(o)),o};switch(e){case t.TYPE_CONSTANT:return i(this.attributes.constant_formula||"$t$s$v$u",this.hasMultiplier?"":"%");case t.TYPE_MULTIPLIER:return i(this.attributes.multiplier_formula||"$t$s$v$u","%");case t.TYPE_TOTAL:return i(c("type total: preText")+"$t$s$v$u","%")}}},{key:"getShowData",value:function(e,n){var r="",a="";switch(e){case t.TYPE_CONSTANT:r=this.text,this.hasMultiplier||(a="%"),this.attributes.constant_formula&&!this.attributes.constant_formula.includes("$u")&&(a="");break;case t.TYPE_MULTIPLIER:r=this.text,a="%",this.attributes.multiplier_formula&&!this.attributes.multiplier_formula.includes("$u")&&(a="");break;case t.TYPE_TOTAL:r=c("type total: preText")+this.text,a="%"}return{result:this.show(e,n),title:r,value:n,tail:a}}},{key:"createSimpleStat",value:function(t,e){return new u(this,t,e)}}]),t}();l.TYPE_CONSTANT=Symbol("constant"),l.TYPE_MULTIPLIER=Symbol("multiplier"),l.TYPE_TOTAL=Symbol("total");var u=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a()(this,t),this.base=e,this.type=n,this.value=r}return o()(t,[{key:"show",value:function(t){return this.base.show(this.type,this.value,t)}},{key:"getShowData",value:function(){return this.base.getShowData(this.type,this.value)}},{key:"statValue",value:function(t){return void 0!==t&&(this.value=t),this.value}},{key:"baseName",value:function(){return this.base.baseName}}]),t}();e.a=l},function(t,e,n){t.exports=n(16)},function(t,e,n){"use strict";e.a=function(){return{SkillData:"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=170573319&single=true&output=csv&range=A:Q",SkillMainData:"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=2033454381&single=true&output=csv&range=A:D",CharacterStatData:"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=616452461&single=true&output=csv&range=A:F",TagData:"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=1107380961&single=true&output=csv&range=A:C",EquipmentData:"https://docs.google.com/spreadsheets/d/e/2PACX-1vRwaGM9CClGkSw-6iUFmdOyIeI-_9i5RvIuHdSCTCUgFCk7GV4v1evt5C79JSG5P66ZGopM2-ZJJaEA/pub?gid=0&single=true&output=csv&range=A:I"}}},function(t,e){function n(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(a,i){var o=t.apply(e,r);function s(t){n(o,a,i,s,c,"next",t)}function c(t){n(o,a,i,s,c,"throw",t)}s(void 0)})}}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e,n){"use strict";function r(){"1"!==localStorage["main-font-family"]&&document.querySelector("body").classList.add("font1")}n.d(e,"a",function(){return r})},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),o=new A(r||[]);return i._invoke=function(t,e,n){var r=u;return function(a,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw i;return O()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?h:p,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(t,n,o),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u="suspendedStart",p="suspendedYield",d="executing",h="completed",f={};function v(){}function m(){}function g(){}var y={};y[i]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(T([])));b&&b!==n&&r.call(b,i)&&(y=b);var C=g.prototype=v.prototype=Object.create(y);function L(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(t){var e;this._invoke=function(n,a){function i(){return new Promise(function(e,i){!function e(n,a,i,o){var s=l(t[n],t,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,i,o)},function(t){e("throw",t,i,o)}):Promise.resolve(u).then(function(t){c.value=t,i(c)},function(t){return e("throw",t,i,o)})}o(s.arg)}(n,a,e,i)})}return e=e?e.then(i,i):i()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var a=l(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return m.prototype=C.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},L(x.prototype),x.prototype[o]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,r,a){var i=new x(c(e,n,r,a));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(C),C[s]="Generator",C[i]=function(){return this},C.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;M(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(20),a=n(21),i=n(22);t.exports=function(t){return r(t)||a(t)||i()}},function(t,e,n){"use strict";var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(10),c=n(12),l=n(3),u={"stat base":{"type total: preText":"總"}},p={"stat base":{"type total: preText":"Total "}},d={},h=function(){function t(){a()(this,t),this.statList=[]}return o()(t,[{key:"init",value:function(){}},{key:"init_statList",value:function(){Object(l.b)({zh_tw:u,en:p,ja:d});var t=this;return new Promise(function(e,n){Papa.parse(Object(c.a)().CharacterStatData,{download:!0,complete:function(n){var r;r=t,n.data.forEach(function(t,e){if(0!=e){var n=r.appendStatBase(t[0],t[1],"無"!=t[2]);t[3]&&n.appendAttribute("constant_formula",t[3]),t[4]&&n.appendAttribute("multiplier_formula",t[4])}}),e()},error:function(t){console.warn("讀取角色能力資料時發生錯誤。"),console.log(t),n()}})})}},{key:"appendStatBase",value:function(t,e,n){var r=new s.a(t,e,n);return this.statList.push(r),r}},{key:"StatList",value:function(){return this.statList}},{key:"findStatBase",value:function(t){return this.StatList().find(function(e){return e.baseName==t})}},{key:"findStatBaseFromText",value:function(t){return this.StatList().find(function(e){return e.text==t})}}]),t}();e.a=h},,function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},,,,function(t,e,n){var r=n(27);function a(e,n,i){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=a=function(t,e,n){var a=[null];a.push.apply(a,e);var i=new(Function.bind.apply(t,a));return n&&r(i,n.prototype),i}:t.exports=a=Reflect.construct,a.apply(null,arguments)}t.exports=a},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},,function(t,e,n){"use strict";n.r(e);var r=n(11),a=n.n(r),i=n(13),o=n.n(i),s=n(8),c=n(9),l=n(3),u=n(15),p={"Top List":{"item 1":"布偶的魔法書","item 2":"道具查詢"},"Item Query":{Search:{"options menu":{main:"一般",stat:"裝備能力","item-level":"道具等級"},"options: main":{"search by: name":"名稱","search by: material":"製作素材","search by: dye":"染色","search by: obtain-name":"取得來源"},search:"查詢","item detail":{"scope title":{stats:"裝備能力",create:"基礎潛力值",materials:"製作素材",obtains:"取得方式","base atk":"基礎ATK","base def":"基礎DEF","base stability":"基礎穩定度"},create:{"item level":"道具等級","item difficulty":"難易度"},spina:"眾神幣",restriction:{event:"活動","1h_sword":"單手劍","2h_sword":"雙手劍",bow:"弓",bowgun:"弩",staff:"法杖",magic_device:"魔導具",knuckle:"拳套",halberd:"旋風槍",katana:"拔刀劍"},obtains:{mobs:"小怪",boss:"定點BOSS",mini_boss:"地圖BOSS",quest:"任務",smith:"鐵匠鋪","create equipment":"製作裝備","all smith":"各個城鎮的鐵匠鋪","no data":"尚無資料",unknow:"未知",other:"其它"}},"Equipmemt Category list":["單手劍","雙手劍","弓","弩","法杖","魔導具","拳套","旋風槍","拔刀劍","箭矢","盾牌","小刀","身體裝備","追加裝備","特殊裝備"],"search placeholder":"可利用「,」進行複數搜尋","No Result":"沒有符合搜尋條件的道具。",tips:{"sort: up":"升冪排序","sort: down":"降冪排序","sort: none":"不進行排序","stats search: first":"請於上方的輸入欄位搜尋能力名稱。","stats search: no result":"沒有符合的結果。請確認搜尋的關鍵字是否正確。"},"option scope title":{category:"裝備類型","search by":"搜尋目標","obtain type":"取得方式類型",button:{"select all":"全選","cancel all":"重置"}}}}},d={},h={};var f=n(18),v=n(4),m=n.n(v),g=n(5),y=n.n(g),w=n(12),b=n(26),C=n.n(b),L=n(10),x=function(){function t(){m()(this,t),this.equipments=[]}return y()(t,[{key:"appendEquipment",value:function(){var t=C()(S,Array.prototype.slice.call(arguments));return this.equipments.push(t),t}}]),t}(),S=function(){function t(e,n,r,a,i){m()(this,t),this.name=e,this.category=n,this.baseValue=r,""!==a&&(this.baseStability=a),this.caption=i,this.stats=[],this.statRestrictions=[],this.obtains=[]}return y()(t,[{key:"setRecipe",value:function(){return this.recipe={},this.recipe}},{key:"appendObtain",value:function(){var t={};return this.obtains.push(t),t}},{key:"appendStat",value:function(t,e,n,r){var a;switch(n){case"":a=L.a.TYPE_CONSTANT;break;case"%":a=L.a.TYPE_MULTIPLIER;break;case"~":a=L.a.TYPE_TOTAL}var i=s.a.CharacterSystem.findStatBase(t).createSimpleStat(a,e);return this.stats.push(i),this.statRestrictions.push(r),i}}]),t}(),E=function t(e,n,r){m()(this,t),this.name=e,this.quantity=n,this.category=r};E.CATEGORY_MATERIAL=Symbol("Material"),E.CATEGORY_MATERIAL_POINT=Symbol("Material Point");var M=function(t,e){var n,r,a,i=[6,7],o=["單手劍","雙手劍","弓","弩","法杖","魔導具","拳套","旋風槍","拔刀劍","箭矢","盾牌","小刀","身體裝備","追加裝備","特殊裝備"];e.forEach(function(e,s){if(0!=s){switch(""!==e[0]&&""!==e[1]&&(n=t.appendEquipment(e[0],o.indexOf(e[1]),e[2],e[3],e[8]),r=n),""!==e[4]&&(a=e[4]),e[4]){case"obtain":n=r.appendObtain();break;case"recipe":n=r.setRecipe()}switch(a){case"stats":var c=e[i[0]],l=c.slice(-1),u=c;"%"!==l&&"~"!==l?l="":u=c.slice(0,-1),r.appendStat(e[5],u,l,e[i[1]]);break;case"obtain":n[e[5]]=e[i[0]];break;case"recipe":n[e[5]]="materials"!=e[5]?e[i[0]]:(p=e[i[0]],d=[],h=["金屬","布料","藥品","獸品","木材","魔素"],p.split(/\s*,\s*/).forEach(function(t){var e=t.split("#"),n=e[0],r=e[1];if(n&&r){var a=-1!=h.indexOf(n)?E.CATEGORY_MATERIAL_POINT:E.CATEGORY_MATERIAL;d.push(new E(n,r,a))}}),d)}var p,d,h}})},A=n(14),T=n.n(A),O=n(1);function _(t,e){return Object(l.d)("Item Query/Search/"+t,e)}var k=function(){function t(e){m()(this,t),this.parent=e,this.nodes={result:null},this.status={resultMaximum:100}}return y()(t,[{key:"init",value:function(t){var e=O.a.element.simpleCreateHTML,n=e("ul","options-menu"),r=e("div","options-scope");this.nodes.optionsScope=r;var a=this;function i(){return e("div","button-scope")}function o(t){var n=e("div","search-button-scope"),r=e("span",["Cyteria","Button","simple"],'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg><span class="text">'+_("search")+"</span>");return r.addEventListener("click",t),n.appendChild(r),n}function c(){var t=e("ul","search-category");return _("Equipmemt Category list").forEach(function(n,r){var a=e("li",["Cyteria","Button","simple","cur"],n,{"data-i":r});a.addEventListener("click",d),t.appendChild(a)}),t}function l(t,e){return-1!=h(t,"data-i").map(function(t){return parseInt(t)}).indexOf(e.category)}function u(){var t=e("ul","search-category-type");return["smith","boss","mini_boss","mobs","quest","other"].forEach(function(n){var r=e("li",["Cyteria","Button","simple","cur"],_("item detail/obtains/"+n),{"data-type":n});r.addEventListener("click",d),t.appendChild(r)}),t}function p(t,e){var n=h(t,"data-type");return e.obtains.find(function(t){return-1!=n.indexOf(t.type)})}function d(t){this.classList.toggle("cur")}function h(t,e){return Array.from(t.querySelectorAll(".cur")).map("function"==typeof e?e:function(t){return t.getAttribute(e)})}function f(t){this.parentNode.nextSibling.querySelectorAll("li").forEach(function(t){return t.classList.add("cur")})}function v(t){this.parentNode.nextSibling.querySelectorAll("li.cur").forEach(function(t){return t.classList.remove("cur")})}function m(t){var n=e("div","title-scope");n.appendChild(e("span","title",_("option scope title/"+t)));var r=e("span",["Cyteria","Button","simple","text-small"],'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17.3 6.3c-.39-.39-1.02-.39-1.41 0l-5.64 5.64 1.41 1.41L17.3 7.7c.38-.38.38-1.02 0-1.4zm4.24-.01l-9.88 9.88-3.48-3.47c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L22.95 7.71c.39-.39.39-1.02 0-1.41h-.01c-.38-.4-1.01-.4-1.4-.01zM1.12 14.12L5.3 18.3c.39.39 1.02.39 1.41 0l.7-.7-4.88-4.9c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.03 0 1.42z"/></svg><span class="text">'+_("option scope title/button/select all")+"</span>");r.addEventListener("click",f);var a=e("span",["Cyteria","Button","simple","text-small"],'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg><span class="text">'+_("option scope title/button/cancel all")+"</span>");return a.addEventListener("click",v),n.appendChild(r),n.appendChild(a),n}function g(t){var e=this.getAttribute("data-category"),n=a.nodes.optionsScope.querySelector(".options-"+e),r=this.parentNode.querySelector(".cur");r&&(r.classList.remove("cur"),a.nodes.optionsScope.querySelector(".options-"+r.getAttribute("data-category")).classList.add("hidden")),this.classList.add("cur"),n.classList.remove("hidden"),O.a.element.removeAllChild(a.nodes.result)}["main","stat","item-level"].forEach(function(t,f){var v=e("li",["Cyteria","Button","simple"],_("options menu/"+t),{"data-category":t});n.appendChild(v),v.addEventListener("click",g),0==f&&v.classList.add("cur");var y=document.createDocumentFragment();switch(t){case"main":var w=e("div","search-scope"),b=e("input","search",null,{placeholder:_("search placeholder")});w.appendChild(e("span","icon",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>')),w.appendChild(b),y.appendChild(w);var C=i(),x=e("ul","search-by");["name","material","dye","obtain-name"].forEach(function(t){var n=e("li",["Cyteria","Button","simple"],_("options: main/search by: "+t),{"data-name":t});n.addEventListener("click",d),x.appendChild(n),n.classList.add("cur")}),C.appendChild(m("search by")),C.appendChild(x);var S=c();C.appendChild(m("category")),C.appendChild(S);var E=u();C.appendChild(m("obtain type")),C.appendChild(E);var M=o(function(t){var e=h(x,"data-name"),n=[],r=b.value.toLowerCase().split(/\s*,\s*/);a.parent.items.equipments.forEach(function(t){n.length!=a.status.resultMaximum&&l(S,t)&&p(E,t)&&(""!==b.value?r.find(function(n){return e.find(function(e){switch(e){case"name":return t.name.toLowerCase().includes(n);case"material":return t.recipe&&t.recipe.materials&&t.recipe.materials.find(function(t){return t.name.toLowerCase().includes(n)});case"dye":return t.obtains.find(function(t){return t.dye&&t.dye.toLowerCase().includes(n)});case"obtain-name":return t.obtains.find(function(t){return t.name&&t.name.toLowerCase().includes(n)})}})})&&n.push(t):n.push(t))}),a.showResult(n)});C.appendChild(M),y.appendChild(C);break;case"stat":var A=function(t){var e=parseInt(this.parentNode.getAttribute("data-sort"));this.parentNode.setAttribute("data-sort",["1","2","0"][e]),this.innerHTML=[O.up,O.hline,O.down][e],t.stopPropagation()},O={down:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>',up:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"/></svg>',hline:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z"/></svg>'},k=e("div","stats-scope"),N=e("div","search-scope"),j=e("input","search",null,{placeholder:_("search placeholder")});N.appendChild(e("span","icon",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>')),N.appendChild(j),y.appendChild(N),j.addEventListener("change",function(t){if(""!==j.value){var e=k.querySelectorAll(".stat");e.forEach(function(t){return t.classList.remove("cur")});var n=j.value.toLowerCase(),r=n.split(/\s*,\s*/),a=!1;e.forEach(function(t){if("@all"!=n){var e=t.querySelector(".text").innerHTML;r.find(function(t){return e.toLowerCase().includes(t)})?(t.classList.remove("hidden"),a=!0):t.classList.add("hidden")}else t.classList.remove("hidden")}),a?P.classList.add("hidden"):(P.classList.remove("hidden"),P.innerHTML=_("tips/stats search: no result"))}}),s.a.CharacterSystem.statList.forEach(function(t){[0,1].forEach(function(n){if(1!=n||t.hasMultiplier){var r=e("span",["Cyteria","Button","simple","stat","hidden"],null,{"data-sort":"0","data-bn":t.baseName,"data-type":n});r.addEventListener("click",d),r.appendChild(e("span","text",0==n?t.text:t.text+"%"));var a=e("span",["icon","sort"],'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>');a.addEventListener("click",A),r.appendChild(a),k.appendChild(r)}})});var P=e("div","tips",_("tips/stats search: first"));k.appendChild(P);var I=i(),z=c();I.appendChild(m("category")),I.appendChild(z);var R=u();I.appendChild(m("obtain type")),I.appendChild(R);var q=o(function(t){var e=h(k,function(t){return{baseName:t.getAttribute("data-bn"),sort:parseInt(t.getAttribute("data-sort"),10),type:"0"===t.getAttribute("data-type")?L.a.TYPE_CONSTANT:L.a.TYPE_MULTIPLIER}});if(0!=e.length){var n=[];a.parent.items.equipments.forEach(function(t){n.length!=a.status.resultMaximum&&l(z,t)&&p(R,t)&&e.every(function(e){return t.stats.find(function(t){return e.baseName==t.baseName()&&e.type==t.type})})&&n.push(t)}),n.sort(function(t,n){for(var r=function(r){var a=e[r];if(2==a.sort)return"continue";var i=function(t){return t.baseName()==a.baseName&&t.type==a.type},o=t.stats.find(i),s=n.stats.find(i);if(!o||!s||o.value===s.value)return"continue";var c=parseInt(o.value),l=parseInt(s.value);return{v:1==a.sort?c-l:l-c}},a=0;a<e.length;++a){var i=r(a);switch(i){case"continue":continue;default:if("object"===T()(i))return i.v}}return 0}),a.showResult(n,{statShowList:e})}});I.appendChild(q);var B=e("div","tips-scope");[{name:"down",icon:O.down},{name:"up",icon:O.up},{name:"none",icon:O.hline}].forEach(function(t){B.appendChild(e("span",["Cyteria","scope-icon","text-small"],t.icon+'<span class="text">'+_("tips/sort: "+t.name)+"</span>"))}),y.appendChild(k),y.appendChild(B),y.appendChild(I);break;case"item-level":var H=function(t){this.select()},Y=e("div","search-scope"),V=e("input",["search","short"],null,{type:"number"}),F=e("input",["search","short"],null,{type:"number"});V.addEventListener("click",H),F.addEventListener("click",H),Y.appendChild(e("div",["Cyteria","scope-icon","title"],'<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="1250pt" height="1250pt" viewBox="0 0 1250 1250" preserveAspectRatio="xMidYMid meet"><g transform="translate(0,1250) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M1468 11473 c-29 -34 -57 -98 -75 -173 -15 -62 -18 -111 -16 -277 l2 -201 -102 34 c-112 38 -148 42 -168 18 -15 -18 -20 -114 -8 -164 4 -19 15 -100 24 -180 56 -495 128 -757 306 -1113 76 -153 214 -396 234 -412 7 -6 78 -141 158 -300 364 -728 566 -1026 995 -1466 l163 -168 -50 -203 c-137 -556 -160 -746 -168 -1370 l-5 -428 -55 -82 c-70 -108 -155 -259 -203 -361 -96 -210 -132 -392 -146 -743 l-7 -159 27 -32 c67 -80 199 -105 317 -59 37 14 69 22 73 19 3 -3 8 2 12 11 3 9 15 16 25 16 10 0 62 11 115 25 102 27 198 71 252 118 l34 28 62 -133 c35 -73 79 -160 99 -193 l35 -60 -221 -6 c-231 -6 -245 -8 -492 -40 -169 -23 -172 -23 -310 -44 -354 -53 -385 -59 -435 -85 -45 -23 -42 -7 -42 -205 0 -139 -13 -216 -66 -397 -33 -112 -30 -132 28 -159 33 -16 55 -15 368 12 389 32 865 65 1177 79 264 13 1155 6 1345 -9 74 -6 218 -18 320 -26 221 -19 532 -53 920 -101 157 -19 292 -36 300 -36 8 0 107 9 220 21 113 11 230 23 260 26 30 3 150 14 265 24 950 88 1527 101 2285 51 204 -14 768 -65 993 -91 150 -17 181 -18 205 -7 30 15 28 -14 15 253 -5 103 -2 140 21 264 24 132 25 146 11 167 -8 13 -24 24 -34 24 -10 0 -72 13 -137 29 -467 115 -798 166 -1299 201 -88 7 -183 15 -211 18 l-52 7 80 95 c111 131 206 278 295 455 42 82 77 152 79 154 2 2 31 -19 66 -46 152 -120 255 -176 398 -218 52 -15 163 -61 245 -100 173 -84 230 -105 286 -105 73 0 119 41 148 130 10 32 6 47 -43 175 -168 435 -316 713 -586 1103 -127 183 -128 184 -134 332 -2 63 -7 122 -9 130 -3 8 -11 94 -17 190 -10 158 -18 263 -36 445 -3 33 -12 112 -20 175 -9 63 -18 144 -21 180 -3 36 -9 70 -13 75 -4 6 -13 39 -20 75 -16 81 -73 261 -114 360 -30 72 -31 76 -16 107 8 18 50 68 93 111 42 43 77 86 77 94 0 9 25 41 55 72 30 30 55 59 55 63 1 15 196 243 397 465 155 171 503 524 658 669 154 143 526 469 739 649 293 248 381 320 387 320 10 0 119 180 119 197 0 8 5 23 10 34 23 42 -16 69 -124 89 -33 5 -61 12 -63 13 -2 2 17 22 43 43 72 61 142 134 147 154 7 27 -18 56 -51 63 -52 10 -661 67 -822 76 -219 13 -695 5 -870 -14 -571 -62 -1039 -208 -1763 -551 -295 -140 -1053 -539 -1090 -573 -16 -16 -24 -16 -80 -5 -399 82 -658 113 -957 114 -287 2 -542 -22 -1110 -104 l-235 -34 -110 70 c-194 125 -241 156 -658 427 -423 275 -994 659 -1350 908 -230 161 -773 557 -1107 808 -118 89 -225 167 -237 173 -31 17 -68 15 -85 -5z"/></g></svg><span class="text">'+_("item detail/create/item level")+"</span>")),Y.appendChild(e("span","icon-before-short",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>')),Y.appendChild(V),Y.appendChild(e("span",["text","inner"],"~")),Y.appendChild(F),y.appendChild(Y);var D=i(),G=c();D.appendChild(m("category")),D.appendChild(G);var $=o(function(t){var e=[],n=V.value,r=F.value;if(""!==r||""!==n){var i=function(t){return(t=parseInt(t))>300&&(t=300),t<0&&(t=0),t};if(""===r&&(r=300),""===n&&(n=0),r=i(r),n=i(n),r<n){var o=r;r=n,n=o}V.value=n,F.value=r,a.parent.items.equipments.forEach(function(t){if(e.length!=a.status.resultMaximum&&t.recipe&&l(G,t)){var i=parseInt(t.recipe.item_level,10);Number.isNaN(i)||i>=n&&i<r&&e.push(t)}}),e.sort(function(t,e){return parseInt(t.recipe.item_level,10)-parseInt(e.recipe.item_level,10)}),a.showResult(e,{showItemLevel:!0})}});D.appendChild($),y.appendChild(D)}var Q=e("div","options-"+t);Q.appendChild(y),0!=f&&Q.classList.add("hidden"),r.appendChild(Q)});var y=e("div","result");this.nodes.result=y;var w=e("div",["detail","hidden"]),b=e("div","top"),C=e("span","name"),x=e("span",["button","right"],'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg>');x.addEventListener("click",function(t){a.nodes.detail.classList.add("hidden")});var S=e("span",["button","right"],'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 5.83l2.46 2.46c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 3.7c-.39-.39-1.02-.39-1.41 0L8.12 6.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 5.83zm0 12.34l-2.46-2.46c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l3.17 3.18c.39.39 1.02.39 1.41 0l3.17-3.17c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L12 18.17z"/></svg>');S.addEventListener("click",function(t){w.classList.toggle("unfold"),this.innerHTML=w.classList.contains("unfold")?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path opacity=".87" fill="none" d="M24 0v24H0V0h24z"/><path d="M8.12 19.3c.39.39 1.02.39 1.41 0L12 16.83l2.47 2.47c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-3.17-3.17c-.39-.39-1.02-.39-1.41 0l-3.17 3.17c-.4.38-.4 1.02-.01 1.41zm7.76-14.6c-.39-.39-1.02-.39-1.41 0L12 7.17 9.53 4.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.03 0 1.42l3.17 3.17c.39.39 1.02.39 1.41 0l3.17-3.17c.4-.39.4-1.03.01-1.42z"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 5.83l2.46 2.46c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 3.7c-.39-.39-1.02-.39-1.41 0L8.12 6.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 5.83zm0 12.34l-2.46-2.46c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l3.17 3.18c.39.39 1.02.39 1.41 0l3.17-3.17c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L12 18.17z"/></svg>'}),b.appendChild(C),b.appendChild(x),b.appendChild(S),w.appendChild(b),w.appendChild(e("div","contents")),this.nodes.detail=w,t.appendChild(n),t.appendChild(r),t.appendChild(y),t.appendChild(w)}},{key:"showResult",value:function(t,e){e=Object.assign({statShowList:[],showItemLevel:!1},e);var n=document.createDocumentFragment(),r=O.a.element.simpleCreateHTML;if(0!=t.length){var a=function(e){var n=parseInt(this.getAttribute("data-i"),10);i.showItemDetail(t[n])},i=this;t.forEach(function(t,i){var o=r("div","scope"),s=r("div","top",null,{"data-i":i}),c=r("div","name",t.name);s.appendChild(c),o.appendChild(s),s.addEventListener("click",a);var l=r("div","sub"),u=r("span",["text-small","category"],-1!=t.category?_("Equipmemt Category list")[t.category]:_("item detail/unknow"));if(t.obtains.length<=1){var p=0!=t.obtains.length?_("item detail/obtains/"+t.obtains[0].type):_("item detail/obtains/unknow"),d=r("span",["text-small","obtain"],p);l.appendChild(d)}if(l.appendChild(u),o.appendChild(l),0!=e.statShowList.length){var h=r("div","search-stat-scope"),f=function(t){return'<span class="dark">'+t+"</span>"};e.statShowList.forEach(function(e){var n=t.stats.find(function(t){return t.baseName()==e.baseName&&t.type==e.type});n&&h.appendChild(r("span","search-stat",n.show({processNegativeValue:f})))}),o.appendChild(h)}var v,m,g,y=r("div","attribute-scope");e.showItemLevel&&(v=t.recipe&&t.recipe.item_level||"?",y.appendChild((m=_("item detail/create/item level"),g=v,r("div","attribute",'<span class="title">'.concat(m,'</span><span class="value">').concat(g,"</span>")))));0!=y.childElementCount&&o.appendChild(y),n.appendChild(o)})}else n.appendChild(r("div","no-result",_("No Result")));O.a.element.removeAllChild(this.nodes.result),this.nodes.result.appendChild(n)}},{key:"showItemDetail",value:function(t){var e=O.a.element.simpleCreateHTML;function n(t,n){var r='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="1250pt" height="1250pt" viewBox="0 0 1250 1250" preserveAspectRatio="xMidYMid meet"><g transform="translate(0,1250) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M1468 11473 c-29 -34 -57 -98 -75 -173 -15 -62 -18 -111 -16 -277 l2 -201 -102 34 c-112 38 -148 42 -168 18 -15 -18 -20 -114 -8 -164 4 -19 15 -100 24 -180 56 -495 128 -757 306 -1113 76 -153 214 -396 234 -412 7 -6 78 -141 158 -300 364 -728 566 -1026 995 -1466 l163 -168 -50 -203 c-137 -556 -160 -746 -168 -1370 l-5 -428 -55 -82 c-70 -108 -155 -259 -203 -361 -96 -210 -132 -392 -146 -743 l-7 -159 27 -32 c67 -80 199 -105 317 -59 37 14 69 22 73 19 3 -3 8 2 12 11 3 9 15 16 25 16 10 0 62 11 115 25 102 27 198 71 252 118 l34 28 62 -133 c35 -73 79 -160 99 -193 l35 -60 -221 -6 c-231 -6 -245 -8 -492 -40 -169 -23 -172 -23 -310 -44 -354 -53 -385 -59 -435 -85 -45 -23 -42 -7 -42 -205 0 -139 -13 -216 -66 -397 -33 -112 -30 -132 28 -159 33 -16 55 -15 368 12 389 32 865 65 1177 79 264 13 1155 6 1345 -9 74 -6 218 -18 320 -26 221 -19 532 -53 920 -101 157 -19 292 -36 300 -36 8 0 107 9 220 21 113 11 230 23 260 26 30 3 150 14 265 24 950 88 1527 101 2285 51 204 -14 768 -65 993 -91 150 -17 181 -18 205 -7 30 15 28 -14 15 253 -5 103 -2 140 21 264 24 132 25 146 11 167 -8 13 -24 24 -34 24 -10 0 -72 13 -137 29 -467 115 -798 166 -1299 201 -88 7 -183 15 -211 18 l-52 7 80 95 c111 131 206 278 295 455 42 82 77 152 79 154 2 2 31 -19 66 -46 152 -120 255 -176 398 -218 52 -15 163 -61 245 -100 173 -84 230 -105 286 -105 73 0 119 41 148 130 10 32 6 47 -43 175 -168 435 -316 713 -586 1103 -127 183 -128 184 -134 332 -2 63 -7 122 -9 130 -3 8 -11 94 -17 190 -10 158 -18 263 -36 445 -3 33 -12 112 -20 175 -9 63 -18 144 -21 180 -3 36 -9 70 -13 75 -4 6 -13 39 -20 75 -16 81 -73 261 -114 360 -30 72 -31 76 -16 107 8 18 50 68 93 111 42 43 77 86 77 94 0 9 25 41 55 72 30 30 55 59 55 63 1 15 196 243 397 465 155 171 503 524 658 669 154 143 526 469 739 649 293 248 381 320 387 320 10 0 119 180 119 197 0 8 5 23 10 34 23 42 -16 69 -124 89 -33 5 -61 12 -63 13 -2 2 17 22 43 43 72 61 142 134 147 154 7 27 -18 56 -51 63 -52 10 -661 67 -822 76 -219 13 -695 5 -870 -14 -571 -62 -1039 -208 -1763 -551 -295 -140 -1053 -539 -1090 -573 -16 -16 -24 -16 -80 -5 -399 82 -658 113 -957 114 -287 2 -542 -22 -1110 -104 l-235 -34 -110 70 c-194 125 -241 156 -658 427 -423 275 -994 659 -1350 908 -230 161 -773 557 -1107 808 -118 89 -225 167 -237 173 -31 17 -68 15 -85 -5z"/></g></svg><span class="text">'+_("item detail/scope title/"+t)+"</span>";return n&&(r+='<span class="title-value">'+n+"</span>"),e("div","scope-title",r)}var r=this.nodes.detail,a=r.querySelector(".top > .name"),i=r.querySelector(".contents");O.a.element.removeAllChild(i),a.innerHTML=t.name;var o=t.category;if(i.appendChild(n(-1==[10,12,13,14].indexOf(o)?"base atk":"base def",t.baseValue)),t.baseStability&&i.appendChild(n("base stability",t.baseStability+"%")),0!=t.stats.length){var s=e("div",["scope","stats"]);t.stats.forEach(function(n,r){var a=document.createDocumentFragment();""!==t.statRestrictions[r]&&t.statRestrictions[r].split(/\s*,\s*/).forEach(function(t){var n=_("item detail/restriction/"+t);a.appendChild(e("span","restriction",n))});var i=e("span",null,n.show({processNegativeValue:function(t){return'<span class="dark">'+t+"</span>"}}));0!=a.childElementCount&&i.appendChild(a),s.appendChild(i)}),i.appendChild(n("stats")),i.appendChild(s)}if(t.recipe){var c=t.recipe;if(c.potential){var l=e("div",["scope","create"]),u=c.item_level,p=c.item_difficulty,d=document.createElement("tbody");d.innerHTML='<tr>\n                    <td class="title">'.concat(_("item detail/create/item level"),'</td>\n                    <td class="value">').concat(void 0!==u&&""!==u?u:"?",'</td>\n                </tr><tr>\n                    <td class="title">').concat(_("item detail/create/item difficulty"),'</td>\n                    <td class="value">').concat(void 0!==p&&""!==p?p:"?","</td>\n                </tr>");var h=document.createElement("table");h.appendChild(d),i.appendChild(n("create",c.potential)),l.appendChild(h),i.appendChild(l)}if(c.materials){var f=c.materials,v=document.createElement("tbody"),m="";if(f.forEach(function(t){var e=t.quantity;m+='<tr>\n                        <td class="title">'.concat(t.name,'</td>\n                        <td class="value">').concat(void 0!==e&&""!==e?e:"?","</td>\n                    </tr>")}),void 0!==c.cost){var g=c.cost;m+='<tr>\n                        <td class="title">'.concat(_("item detail/spina"),'</td>\n                        <td class="value">').concat(""!==g?g:"?","s</td>\n                    </tr>")}v.innerHTML=m;var y=document.createElement("table");y.appendChild(v);var w=e("div",["scope","materials"]);w.appendChild(y),i.appendChild(n("materials")),i.appendChild(w)}}var b=e("div",["scope","obtains"]);t.obtains.forEach(function(t){var n=e("div","obtain-scope"),r=_("item detail/obtains/"+t.type),a=e("div","title");a.appendChild(e("span","type",r)),a.appendChild(e("span","name","smith"!=t.type?t.name||"?":_("item detail/obtains/create equipment"))),n.appendChild(a),n.appendChild(e("div",["Cyteria","scope-icon","info-line"],'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"/><path d="M0 0h24v24H0z" fill="none"/></svg><span class="text">'+("smith"!=t.type?t.map||"?":_("item detail/obtains/all smith"))+"</span>")),t.dye&&n.appendChild(e("div",["Cyteria","scope-icon","info-line"],'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/><path d="M0 0h24v24H0z" fill="none"/></svg><span class="text">'+t.dye+"</span>")),b.appendChild(n)}),0==t.obtains.length&&(b.innerHTML='<div class="no-data">'+_("item detail/obtains/no data")+"</div>"),i.appendChild(n("obtains")),i.appendChild(b),r.classList.remove("hidden")}}]),t}(),N=function(){function t(){m()(this,t),this.items=new x,this.searchController=new k(this)}return y()(t,[{key:"init",value:function(){var t=this;return new Promise(function(e,n){Papa.parse(Object(w.a)().EquipmentData,{download:!0,complete:function(n){M(t.items,n.data),e()},error:function(t){console.warn("讀取裝備資料時發生錯誤。"),console.log(t),n()}})})}}]),t}();function j(){return(j=o()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=!0,Object(l.b)({zh_tw:p,en:d,ja:h}),Object(u.a)(),s.a.CharacterSystem=new f.a,s.a.ItemSystem=new N,t.next=6,Object(c.c)("載入角色能力清單...");case 6:return t.next=8,s.a.CharacterSystem.init_statList().catch(function(){return Object(c.b)("...載入失敗。",!0)});case 8:return t.next=10,Object(c.c)("載入裝備清單...");case 10:return t.next=12,s.a.ItemSystem.init().catch(function(){return Object(c.b)("...載入失敗。",!0)});case 12:return t.next=14,Object(c.c)("初始化...");case 14:return t.next=16,s.a.ItemSystem.searchController.init(document.getElementById("ItemQuery"));case 16:Object(l.c)(),document.title=Object(l.a)("Page Title"),e&&Object(c.a)();case 18:case"end":return t.stop()}},t)}))).apply(this,arguments)}try{!function(){j.apply(this,arguments)}()}catch(t){Object(c.b)(t),console.log(t)}}]);