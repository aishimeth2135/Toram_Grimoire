!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=45)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return _}));var a=n(13),i=n.n(a),r=n(3),c=n(2),s=n(4),l=c.a.element.simpleCreateHTML;function o(e,t,n,a){var i=l("div","skill-attribute"),r="";return null!==e&&(r+=e),null!==t&&(r+='<span class="text">'+t+"</span>"),""!==r&&i.appendChild(l("span",["Cyteria","scope-icon"],r)),null!=n&&i.appendChild(l("span","value",n)),null!=a&&i.appendChild(l("span","tail",a)),i}function _(){var e,t,n;return{ICON_DATA:(e={},i()(e,s.c.MP_COST,"iconify/ion:water"),i()(e,s.c.RANGE,"target"),i()(e,s.c.SKILL_TYPE,"multiple-blank-circle"),i()(e,s.c.IN_COMBO,["iconify/mdi:selection-ellipse-arrow-inside","forbid","iconify/mdi:numeric-1-circle-outline"]),i()(e,s.c.ACTION_TIME,"iconify/mdi:timer-sand-full"),i()(e,s.c.CASTING_TIME,"iconify/mdi:update"),e),TITLE_DATA:(t={},i()(t,s.c.MP_COST,d("mp cost")),i()(t,s.c.RANGE,d("range")),i()(t,s.c.SKILL_TYPE,d("skill type")),i()(t,s.c.IN_COMBO,d("in combo")),i()(t,s.c.ACTION_TIME,d("action time")),i()(t,s.c.CASTING_TIME,["",d("casting time"),d("charging time")]),t),TEXT_LIST:(n={},i()(n,s.c.SKILL_TYPE,d("skill type: List")),i()(n,s.c.IN_COMBO,d("in combo: List")),i()(n,s.c.ACTION_TIME,d("action time: List")),n)}}function u(e){return"id"+e.branchAttributes.id}function d(e){return Object(r.g)("Skill Query/Analysis Skill/"+e)}},function(e,t,n){"use strict";function a(e){if(e.includes("iconify/"))return'<span class="iconify" data-icon="'.concat(e.replace("iconify/",""),'"></span>');switch(e){case"potum":return'<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="1250pt" height="1250pt" viewBox="0 0 1250 1250" preserveAspectRatio="xMidYMid meet"><g transform="translate(0,1250) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M1468 11473 c-29 -34 -57 -98 -75 -173 -15 -62 -18 -111 -16 -277 l2 -201 -102 34 c-112 38 -148 42 -168 18 -15 -18 -20 -114 -8 -164 4 -19 15 -100 24 -180 56 -495 128 -757 306 -1113 76 -153 214 -396 234 -412 7 -6 78 -141 158 -300 364 -728 566 -1026 995 -1466 l163 -168 -50 -203 c-137 -556 -160 -746 -168 -1370 l-5 -428 -55 -82 c-70 -108 -155 -259 -203 -361 -96 -210 -132 -392 -146 -743 l-7 -159 27 -32 c67 -80 199 -105 317 -59 37 14 69 22 73 19 3 -3 8 2 12 11 3 9 15 16 25 16 10 0 62 11 115 25 102 27 198 71 252 118 l34 28 62 -133 c35 -73 79 -160 99 -193 l35 -60 -221 -6 c-231 -6 -245 -8 -492 -40 -169 -23 -172 -23 -310 -44 -354 -53 -385 -59 -435 -85 -45 -23 -42 -7 -42 -205 0 -139 -13 -216 -66 -397 -33 -112 -30 -132 28 -159 33 -16 55 -15 368 12 389 32 865 65 1177 79 264 13 1155 6 1345 -9 74 -6 218 -18 320 -26 221 -19 532 -53 920 -101 157 -19 292 -36 300 -36 8 0 107 9 220 21 113 11 230 23 260 26 30 3 150 14 265 24 950 88 1527 101 2285 51 204 -14 768 -65 993 -91 150 -17 181 -18 205 -7 30 15 28 -14 15 253 -5 103 -2 140 21 264 24 132 25 146 11 167 -8 13 -24 24 -34 24 -10 0 -72 13 -137 29 -467 115 -798 166 -1299 201 -88 7 -183 15 -211 18 l-52 7 80 95 c111 131 206 278 295 455 42 82 77 152 79 154 2 2 31 -19 66 -46 152 -120 255 -176 398 -218 52 -15 163 -61 245 -100 173 -84 230 -105 286 -105 73 0 119 41 148 130 10 32 6 47 -43 175 -168 435 -316 713 -586 1103 -127 183 -128 184 -134 332 -2 63 -7 122 -9 130 -3 8 -11 94 -17 190 -10 158 -18 263 -36 445 -3 33 -12 112 -20 175 -9 63 -18 144 -21 180 -3 36 -9 70 -13 75 -4 6 -13 39 -20 75 -16 81 -73 261 -114 360 -30 72 -31 76 -16 107 8 18 50 68 93 111 42 43 77 86 77 94 0 9 25 41 55 72 30 30 55 59 55 63 1 15 196 243 397 465 155 171 503 524 658 669 154 143 526 469 739 649 293 248 381 320 387 320 10 0 119 180 119 197 0 8 5 23 10 34 23 42 -16 69 -124 89 -33 5 -61 12 -63 13 -2 2 17 22 43 43 72 61 142 134 147 154 7 27 -18 56 -51 63 -52 10 -661 67 -822 76 -219 13 -695 5 -870 -14 -571 -62 -1039 -208 -1763 -551 -295 -140 -1053 -539 -1090 -573 -16 -16 -24 -16 -80 -5 -399 82 -658 113 -957 114 -287 2 -542 -22 -1110 -104 l-235 -34 -110 70 c-194 125 -241 156 -658 427 -423 275 -994 659 -1350 908 -230 161 -773 557 -1107 808 -118 89 -225 167 -237 173 -31 17 -68 15 -85 -5z"/></g></svg>';default:return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">'+function(e){switch(e){case"add":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"/>';case"add-circle-outline":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 7c-.55 0-1 .45-1 1v3H8c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V8c0-.55-.45-1-1-1zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>';case"sub":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1z"/>';case"close":case"error":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/>';case"switch":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M18.65 8.35l-2.79 2.79c-.32.32-.1.86.35.86H18c0 3.31-2.69 6-6 6-.79 0-1.56-.15-2.25-.44-.36-.15-.77-.04-1.04.23-.51.51-.33 1.37.34 1.64.91.37 1.91.57 2.95.57 4.42 0 8-3.58 8-8h1.79c.45 0 .67-.54.35-.85l-2.79-2.79c-.19-.2-.51-.2-.7-.01zM6 12c0-3.31 2.69-6 6-6 .79 0 1.56.15 2.25.44.36.15.77.04 1.04-.23.51-.51.33-1.37-.34-1.64C14.04 4.2 13.04 4 12 4c-4.42 0-8 3.58-8 8H2.21c-.45 0-.67.54-.35.85l2.79 2.79c.2.2.51.2.71 0l2.79-2.79c.31-.31.09-.85-.36-.85H6z"/>';case"done":case"finished":return'<path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" />';case"arrow-down":return'<path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/>';case"arrow-up":return'<path d="M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"/>';case"arrow-right":return'<path d="M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"/>';case"arrow-left":return'<path d="M14.71 15.88L10.83 12l3.88-3.88c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L8.71 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0 .38-.39.39-1.03 0-1.42z"/>';case"arrow-last":return'<path opacity=".87" fill="none" d="M0 0h24v24H0V0z"/><path d="M6.29 8.11L10.18 12l-3.89 3.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L7.7 6.7c-.39-.39-1.02-.39-1.41 0-.38.39-.38 1.03 0 1.41zM17 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1z"/>';case"arrow-right-triangle":return'<path d="M10 17l5-5-5-5v10z"/><path fill="none" d="M0 24V0h24v24H0z"/>';case"loading":return'<path d="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z" />';case"setting":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/>';case"delete":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"/>';case"cancel":case"forbid":return'<path d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />';case"label":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84l3.96-5.58c.25-.35.25-.81 0-1.16l-3.96-5.58z"/>';case"book":return'<path fill="none" d="M0 0h24v24H0z"/><path d="M17.5 4.5c-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5-1.45 0-2.99.22-4.28.79C1.49 5.62 1 6.33 1 7.14v11.28c0 1.3 1.22 2.26 2.48 1.94.98-.25 2.02-.36 3.02-.36 1.56 0 3.22.26 4.56.92.6.3 1.28.3 1.87 0 1.34-.67 3-.92 4.56-.92 1 0 2.04.11 3.02.36 1.26.33 2.48-.63 2.48-1.94V7.14c0-.81-.49-1.52-1.22-1.85-1.28-.57-2.82-.79-4.27-.79zM21 17.23c0 .63-.58 1.09-1.2.98-.75-.14-1.53-.2-2.3-.2-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5.92 0 1.83.09 2.7.28.46.1.8.51.8.98v9.47z"/>';case"book-page":return'<path d="M19,2L14,6.5V17.5L19,13V2M6.5,5C4.55,5 2.45,5.4 1,6.5V21.16C1,21.41 1.25,21.66 1.5,21.66C1.6,21.66 1.65,21.59 1.75,21.59C3.1,20.94 5.05,20.5 6.5,20.5C8.45,20.5 10.55,20.9 12,22C13.35,21.15 15.8,20.5 17.5,20.5C19.15,20.5 20.85,20.81 22.25,21.56C22.35,21.61 22.4,21.59 22.5,21.59C22.75,21.59 23,21.34 23,21.09V6.5C22.4,6.05 21.75,5.75 21,5.5V7.5L21,13V19C19.9,18.65 18.7,18.5 17.5,18.5C15.8,18.5 13.35,19.15 12,20V13L12,8.5V6.5C10.55,5.4 8.45,5 6.5,5V5Z" />';case"star-border":return'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M19.65 9.04l-4.84-.42-1.89-4.45c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.73 3.67-3.18c.67-.58.32-1.68-.56-1.75zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/>';case"content-copy":return'<path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" />';case"cube-outline":return'<path d="M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5M12,4.15L6.04,7.5L12,10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V9.21L13,12.58V19.29L19,15.91Z" />';case"sword":return'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M6.92,5H5L14,14L15,13.06M19.96,19.12L19.12,19.96C18.73,20.35 18.1,20.35 17.71,19.96L14.59,16.84L11.91,19.5L10.5,18.09L11.92,16.67L3,7.75V3H7.75L16.67,11.92L18.09,10.5L19.5,11.91L16.83,14.58L19.95,17.7C20.35,18.1 20.35,18.73 19.96,19.12Z" />';case"save":return'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3M19 19H5V5H16.17L19 7.83V19M12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12M6 6H15V10H6V6Z" />';case"file-import":return'<path d="M6,2C4.89,2 4,2.9 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13,3.5L18.5,9H13M10.05,11.22L12.88,14.05L15,11.93V19H7.93L10.05,16.88L7.22,14.05" />';case"csv-file":return'<path d="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M14,15V11H10V15H12.3C12.6,17 12,18 9.7,19.38L10.85,20.2C13,19 14,16 14,15Z" />';case"multiple-blank-circle":return'<path d="M14,2A8,8 0 0,0 6,10A8,8 0 0,0 14,18A8,8 0 0,0 22,10A8,8 0 0,0 14,2M4.93,5.82C3.08,7.34 2,9.61 2,12A8,8 0 0,0 10,20C10.64,20 11.27,19.92 11.88,19.77C10.12,19.38 8.5,18.5 7.17,17.29C5.22,16.25 4,14.21 4,12C4,11.7 4.03,11.41 4.07,11.11C4.03,10.74 4,10.37 4,10C4,8.56 4.32,7.13 4.93,5.82Z" />';case"help-rhombus":return'<path d="M21.5,10.8L13.2,2.5C12.5,1.8 11.5,1.8 10.8,2.5L2.5,10.8C1.8,11.5 1.8,12.5 2.5,13.2L10.8,21.5C11.5,22.2 12.5,22.2 13.2,21.5L21.5,13.2C22.1,12.5 22.1,11.5 21.5,10.8M12.5,17H11V15.5H12.5V17M14.3,11.8C13.9,12.3 13.2,12.6 12.9,13.1C12.6,13.5 12.6,14 12.6,14.5H11C11,13.7 11,13 11.3,12.5C11.6,12 12.3,11.7 12.7,11.4C13.9,10.3 13.6,8.7 11.9,8.6C11.1,8.6 10.4,9.3 10.4,10.1H9C9,8.4 10.3,7.1 12,7.1C14.7,7.1 15.9,9.8 14.3,11.8Z" />';case"target":return'<path d="M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z" />';case"rhombus-split":return'<path d="M7.36,5.94L10.8,2.5C11.5,1.8 12.5,1.8 13.2,2.5L16.64,5.94L12,10.59L7.36,5.94M18.06,7.36L13.41,12L18.06,16.64L21.5,13.2C22.1,12.5 22.1,11.5 21.5,10.8L18.06,7.36M5.94,16.64L10.59,12L5.94,7.36L2.5,10.8C1.8,11.5 1.8,12.5 2.5,13.2L5.94,16.64M12,13.41L7.36,18.06L10.8,21.5C11.5,22.2 12.5,22.2 13.2,21.5L16.64,18.06L12,13.41Z" />';case"label":return'<path d="M17.63,5.84C17.27,5.33 16.67,5 16,5H5A2,2 0 0,0 3,7V17A2,2 0 0,0 5,19H16C16.67,19 17.27,18.66 17.63,18.15L22,12L17.63,5.84Z" />';case"clock-outline":return'<path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z" />';case"six-star":return'<path d="M12,2L9.1,7H3.3L6.3,12L3.3,17H9.1L12,22L14.9,17H20.7L17.7,12L20.7,7H14.9L12,2M12,5L13.2,7H10.8L12,5M8.2,8.5L7.1,10.5L5.9,8.5H8.2M10,8.5H14L16,12L14,15.5H10L8,12L10,8.5M18,8.5L16.8,10.5L15.7,8.5H18M7.1,13.5L8.2,15.5H6L7.1,13.5M16.9,13.5L18.1,15.5H15.8L16.9,13.5M13.3,17L12,19L10.8,17H13.3Z" />';case"cards":return'<path d="M21.47,4.35L20.13,3.79V12.82L22.56,6.96C22.97,5.94 22.5,4.77 21.47,4.35M1.97,8.05L6.93,20C7.24,20.77 7.97,21.24 8.74,21.26C9,21.26 9.27,21.21 9.53,21.1L16.9,18.05C17.65,17.74 18.11,17 18.13,16.26C18.14,16 18.09,15.71 18,15.45L13,3.5C12.71,2.73 11.97,2.26 11.19,2.25C10.93,2.25 10.67,2.31 10.42,2.4L3.06,5.45C2.04,5.87 1.55,7.04 1.97,8.05M18.12,4.25A2,2 0 0,0 16.12,2.25H14.67L18.12,10.59" />';case"twitter":return'<path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" />';case"weather-night":return'<path d="M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z" />';case"ghost":return'<path d="M12,2A9,9 0 0,0 3,11V22L6,19L9,22L12,19L15,22L18,19L21,22V11A9,9 0 0,0 12,2M9,8A2,2 0 0,1 11,10A2,2 0 0,1 9,12A2,2 0 0,1 7,10A2,2 0 0,1 9,8M15,8A2,2 0 0,1 17,10A2,2 0 0,1 15,12A2,2 0 0,1 13,10A2,2 0 0,1 15,8Z" />';case"notifications-outline":return'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/>';default:return console.warn("Invalid icon name : "+e),""}}(e)+"</svg>"}}function i(){document.querySelectorAll("*[data-icon-name]").forEach((function(e){var t=a(e.getAttribute("data-icon-name"));e.outerHTML=t}))}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}))},function(e,t,a){"use strict";var i=a(7),r=a(9),c=a.n(r);var s={empty:function(e){null!==e&&"object"===c()(e)&&Object.keys(e).forEach((function(t){return delete e[t]}))},isEmpty:function(e){return"object"!==c()(e)||0==Object.keys(e).length}};function l(e,t,n,a,i,r,c){var s=Math.PI/180,l=n*Math.cos(r*s)+e,o=-1*n*Math.sin(r*s)+t,_=n*Math.cos(i*s)+e,u=-1*n*Math.sin(i*s)+t,d=a*Math.cos(i*s)+e,p=-1*a*Math.sin(i*s)+t,h=a*Math.cos(r*s)+e,m=-1*a*Math.sin(r*s)+t;return"M".concat(l," ").concat(o,"A").concat(n," ").concat(n," 0 0 ").concat(1==c?0:1," ").concat(_," ").concat(u,"L").concat(d," ").concat(p,"A").concat(a," ").concat(a," 0 0 ").concat(c," ").concat(h," ").concat(m,"Z")}function o(e,t,n,a,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=document.createElementNS("http://www.w3.org/2000/svg","image");return c=Object.assign({x:t,y:n,width:a,height:r},c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),i.a.setAttributes(s,c),s}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElementNS("http://www.w3.org/2000/svg",e);return i.a.setAttributes(n,t),n}var u={create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=document.createElementNS("http://www.w3.org/2000/svg","svg");return n=Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:e,height:t,viewBox:"0 0 ".concat(e," ").concat(t)},n),i.a.setAttributes(a,n),a},drawText:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=document.createElementNS("http://www.w3.org/2000/svg","text");return a=Object.assign({x:e,y:t},a),i.a.setAttributes(r,a),r.innerHTML=n,r},drawPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElementNS("http://www.w3.org/2000/svg","path");return t=Object.assign({d:e},t),i.a.setAttributes(n,t),n},drawCircle:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=document.createElementNS("http://www.w3.org/2000/svg","circle");return a=Object.assign({cx:e,cy:t,r:n},a),i.a.setAttributes(r,a),r},drawLine:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=document.createElementNS("http://www.w3.org/2000/svg","line");return r=Object.assign({x1:e,y1:t,x2:n,y2:a},r),i.a.setAttributes(c,r),c},drawSector:function(e,t,n,a,r,c,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},_=document.createElementNS("http://www.w3.org/2000/svg","path");return o=Object.assign({d:l(e,t,n,a,r,c,s),fill:"none"},o),i.a.setAttributes(_,o),_},drawImage:o,getSectorD:l,createEmpty:_,createAnimate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({attributeName:e,repeatCount:"indefinite"},t);var n=document.createElementNS("http://www.w3.org/2000/svg","animate");return i.a.setAttributes(n,t),n},createSimpleImagePattern:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=document.createElementNS("http://www.w3.org/2000/svg","pattern");return r=Object.assign({width:n,height:a,id:e},r),i.a.setAttributes(s,r),s.appendChild(o(0,0,t,n,a,c)),s},createLinearGradient:function(e,t,n,a,r,c){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");return s=Object.assign({id:e,x1:t,y1:n,x2:a,y2:r},s),i.a.setAttributes(l,s),c.forEach((function(e){return l.appendChild(_("stop",e))})),l},createRadialGradient:function(e,t,n,a,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");return c=Object.assign({id:e,cx:t,cy:n,r:a},c),i.a.setAttributes(s,c),r.forEach((function(e){return s.appendChild(_("stop",e))})),s}};var d={between:function(e,t,n){if("number"!=typeof t||"number"!=typeof n)return console.warn("[arguments: max or min] is not the number."),e;if(n<t){var a=n;n=t,t=a}return e<t&&(e=t),e>n&&(e=n),e}},p=a(15),h=a.n(p),m={checkBoundary:!1};function f(e){var t=e.toString();return-1==t.indexOf("e")?parseInt(t.replace(".",""),10):E(e)>0?parseInt(t.split("e")[0]):e}function E(e){var t=e.toString();if(-1==t.indexOf("e"))return(t.split(".")[1]||"").length;var a=t.split("e")[1];return"-"==n.charAt(0)?parseInt(a.slice(1)):0}function v(e){m.checkBoundary&&(e>Number.MAX_SAFE_INTEGER||e<new Number.MIN_SAFE_INTEGER)&&console.warn("Integer is out of boundary when calculate, the result may not be accurate.")}function b(e){(e=e.map((function(e){return"string"==typeof e?parseFloat(e):e})).filter((function(e){return"number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e)}))).forEach((function(e){return v(e)}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b(t);var a=1,i=0;return t.forEach((function(e){i+=E(e),e=f(e),v(a*=e)})),a/Math.pow(10,i)}var O={add:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b(t);var a=Math.pow(10,Math.max.apply(Math,h()(t.map((function(e){return E(e)}))))),i=0;return t.forEach((function(e){v(i+=g(e,a))})),i/a},sub:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b(t);var a=Math.pow(10,Math.max.apply(Math,h()(t.map((function(e){return E(e)}))))),i=g(t[0],a);return t.slice(1).forEach((function(e){v(i-=g(e,a))})),i/a},mul:g,div:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b(t);var a=t[0],i=0;return t.slice(1).forEach((function(e){i+=E(e)-E(a),e=f(e),v(a=f(a)),a/=e})),a/Math.pow(10,i)},setStatus:function(e,t){void 0!==m[e]?m[e]=t:console.warn("[status: ".concat(e,"] not found."))}};var C={saveFile:function(e,t){var n=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),i=URL.createObjectURL(n);a.setAttribute("href",i),a.setAttribute("download",t+".csv"),a.classList.add("hidden"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},loadFile:function(e){var t=function(){};e=Object.assign({loadFileSucceeded:t,beforeLoadFile:t,wrongFileType:t},e);var n=document.createElement("input");n.type="file",n.addEventListener("change",(function(t){document.body.removeChild(n),e.beforeLoadFile();var a=this.files[0];if("csv"==a.name.split(".").slice(-1)){var i=new FileReader;i.onload=function(t){e.loadFileSucceeded(this.result)},i.readAsText(a)}else e.wrongFileType()})),n.classList.add("hidden"),document.body.appendChild(n),n.click()}};a(22);t.a={element:i.a,object:s,svg:u,number:d,math:O,csv:C,copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();var n=document.execCommand("copy");return document.body.removeChild(t),n},storageAvailable:function(e){var t=window[e];try{var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}}},function(e,t,n){"use strict";var a=n(9),i=n.n(a),r=function(){return{global:{second:"秒",cancel:"取消",clear:"清除","LocalStorage is inavailable":"此瀏覽器版本無法使用內建儲存功能。","split string":"、"},"Loading Page":{content:"載入資料中，請稍後...<br />若載入途中發生錯誤，請先試著重新整理網頁。"},footer:{"baha home":"巴哈小屋","night mode":"夜間模式"}}},c=function(){return{global:{second:" sec",cancel:"cancel","LocalStorage is inavailable":"This LocalStorage is not available for this browser version.","split string":", "},"Loading Page":{content:"Loading, just a moment...<br />If an error occurs during loading, please try to refresh the page first."}}},s=function(){return{}},l=function(){return{global:{second:"秒",cancel:"取消","LocalStorage is inavailable":"此浏览器版本无法使用此储存功能。","split string":"、"},"Loading Page":{content:"载入资料中，请稍后...<br />若载入途中发生错误，请先试着重新整理网页。"}}},o=n(2);n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return E})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return O}));var _=0,u=1,d={};function p(){var e=0;switch((window.navigator.language||window.navigator.userLanguage).toLowerCase()){case"zh-tw":case"zh-hk":case"zh-sg":e=1;break;case"ja":e=2;break;case"zh-cn":e=3}_=e}function h(){if(o.a.storageAvailable("localStorage")){localStorage["Language-Setting"]||(localStorage["Language-Setting"]="auto"),localStorage["Second-Language-Setting"]||(localStorage["Second-Language-Setting"]="0");var e=localStorage["Language-Setting"];"auto"==e?p():_=parseInt(e,10),u=parseInt(localStorage["Second-Language-Setting"],10)}else p();v({en:c,zh_tw:r,ja:s,zh_cn:l})}function m(e,t){Object.keys(t).forEach((function(n){var a=e[n],r=t[n];"object"!=i()(r)||Array.isArray(r)?void 0===a&&(e[n]=r):(void 0===a&&(e[n]={}),m(e[n],r))}))}function f(){return _}function E(){return u}function v(e){Object.keys(e).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t]())}));var t=function(e){return"object"==i()(e)&&null!==e},n=["en","zh_tw","ja","zh_cn"],a=e[n[f()]];if(t(a)&&m(d,a),_!=u){var r=e[n[E()]];t(r)&&m(d,r)}n.forEach((function(n,a){if(a!=f()&&a!=E()){var i=e[n];t(i)&&m(d,i)}}))}function b(e,t){var n=function(e,t){t=t.split("/");for(var n=0,a=e;n!==t.length;)if(a=a[t[n]],++n,void 0===a)return;return a}(d,e);return void 0===n?(console.warn("[Unknow Language data] id: ".concat(e)),console.log((new Error).stack),console.log(d),"???"):(Array.isArray(t)&&(n=n.replace(/\$(\d+)/g,(function(e,n){return void 0!==t[n]&&null!==t[n]?t[n]:"?"}))),n||"???")}function g(){document.querySelectorAll("*[data-langid]").forEach((function(e){e.innerHTML=b(e.getAttribute("data-langid")),e.removeAttribute("data-langid")}))}function O(e,t,n){var a=[e[1],e[2]];e[0].forEach((function(e,i){var r=a.map((function(e,t){return e&&e[i]?e[i][n]:null})).find((function(e){return""!==e&&null!=e}));void 0!==r&&(e[t]=r)}))}t.g=b},function(e,t,n){"use strict";n.d(t,"d",(function(){return E})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return C}));var a=n(33),i=n.n(a),r=n(34),c=n.n(r),s=n(35),l=n.n(s),o=n(5),_=n.n(o),u=n(6),d=n.n(u),p=n(14),h=n(10),m=n(2);function f(){var e=arguments;Array.from(arguments).forEach((function(t,n){null==t&&(console.log("argument[".concat(n,"] of Constructor is null")),console.log(e))}))}var E=function(){function e(){_()(this,e),this.skillTreeCategorys=[],this.TYPE=e.TYPE}return d()(e,[{key:"newElement",value:function(e,t){if(e==v.TYPE){var n=t.name,a=t.id;f(a,n);var i=new v(this,a,n);return this.skillTreeCategorys.push(i),i}return null}},{key:"findSkillByName",value:function(e){var t=void 0;return this.skillTreeCategorys.forEach((function(n){t||n.skillTrees.forEach((function(n){if(!t){var a=n.skills.find((function(t){return t.name===e}));void 0!==a&&(t=a)}}))})),t}}]),e}();E.TYPE=Symbol("SkillRoot");var v=function(){function e(t,n,a){_()(this,e),this.parent=t,this.id=n,this.name=a,this.skillTrees=[],this.TYPE=e.TYPE}return d()(e,[{key:"newElement",value:function(e,t){if(e==b.TYPE){var n=t.name,a=t.id;f(a,n);var i=new b(this,a,n);return this.skillTrees.push(i),i}return null}},{key:"findLocation",value:function(){return this.parent.skillTreeCategorys.indexOf(this)}}]),e}();v.TYPE=Symbol("SkillTreeCategory");var b=function(){function e(t,n,a){_()(this,e),this.parent=t,this.id=n,this.name=a,this.skills=[],this.TYPE=e.TYPE}return d()(e,[{key:"init",value:function(e){this.drawTreeCode=e}},{key:"newElement",value:function(e,t){if(e==g.TYPE){var n=t.name,a=t.id;f(a,n);var i=new g(this,a,n);return this.skills.push(i),i}return null}},{key:"findLocation",value:function(){return this.parent.skillTrees.indexOf(this)}}]),e}();b.TYPE=Symbol("SkillTree"),b.CATEGORY_TABLE=Symbol(),b.CATEGORY_DRAW_TREE=Symbol(),b.CATEGORY_EQUIPMENT=Symbol();var g=function(e){function t(e,n,a){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return _()(this,t),(r=i()(this,c()(t).call(this,e,n,a,s))).effects=[],r.defaultEffect=null,r.TYPE=t.TYPE,r._level=0,r}return l()(t,e),d()(t,[{key:"newElement",value:function(e,t){if(e==O.TYPE){var n=t.mainWeapon,a=t.subWeapon,i=t.bodyArmor;f(n,a,i);var r=new O(this,n,a,i);return this.effects.push(r),r}return null}},{key:"setDefaultEffect",value:function(e){return this.defaultEffect=e,this}},{key:"checkData",value:function(){return void 0!==this.defaultEffect&&null!==this.defaultEffect}},{key:"level",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return e>=0&&e<=10&&(this._level=e),this._level}},{key:"addLevel",value:function(e){return this.level(this._level+e),this._level}},{key:"updateTree",value:function(){for(var e=this;-1!=e.previous;)(e=e.parent.skills.find((function(t){return t.id==e.previous}))).level()<5&&e.level(5)}}]),t}(function(){function e(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";_()(this,e),this.parent=t,this.id=n,this.name=a,this.caption=i}return d()(e,[{key:"init",value:function(e,t){this.previous=e,this.drawOrder=t}},{key:"findLocation",value:function(){return this.parent.skills.indexOf(this)}}]),e}());g.TYPE=Symbol("Skill"),g.CATEGORY_MAIN=Symbol();var O=function(){function e(t,n,a,i){_()(this,e),this.parent=t,this.branchs=[],this.mainWeapon=n,this.subWeapon=a,this.bodyArmor=i,this.attributes={},this.config={equipmentConfirm:0},this.TYPE=e.TYPE}return d()(e,[{key:"newElement",value:function(e,t){if(e==C.TYPE){var n=t.id,a=t.name;f(n,a);var i=new C(this,n,a);return this.branchs.push(i),i}return null}},{key:"findLocation",value:function(){return this.parent.effects.indexOf(this)}},{key:"appendAttribute",value:function(e,t){return null!=t&&(this.attributes[e]=t),this}},{key:"setConfig",value:function(e){return Object.assign(this.config,e),this}}]),e}();O.TYPE=Symbol("SkillEffect"),O.MP_COST=Symbol("mp_cost"),O.RANGE=Symbol("range"),O.SKILL_TYPE=Symbol("skill_type"),O.IN_COMBO=Symbol("in_combo"),O.ACTION_TIME=Symbol("action_type"),O.CASTING_TIME=Symbol("casting_time");var C=function(){function e(t,n,a){_()(this,e),this.parent=t,this.id=n,this.name=a,this.branchAttributes={},this.stats=[],this.TYPE=e.TYPE}return d()(e,[{key:"appendBranchAttribute",value:function(e,t){return this.branchAttributes[e]=t,this}},{key:"findLocation",value:function(){return this.parent.branchs.indexOf(this)}},{key:"appendStat",value:function(e,t,n){var a;switch(n){case"":a=h.a.TYPE_CONSTANT;break;case"%":a=h.a.TYPE_MULTIPLIER;break;case"~":a=h.a.TYPE_TOTAL}var i=p.a.CharacterSystem.findStatBase(e).createSimpleStat(a,t);return this.stats.push(i),i}},{key:"isEmpty",value:function(){return m.a.object.isEmpty(this.branchAttributes)&&0==this.stats.length}}]),e}();C.TYPE=Symbol("SkillBranch")},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},function(e,t,n){"use strict";var a=n(15),i=n.n(a);function r(e,t){Object.keys(t).forEach((function(n){null!==t[n]&&e.setAttribute(n,t[n])}))}function c(e,t,n,a){var c,s=document.createElement(e);null!=t&&(Array.isArray(t)?(c=s.classList).add.apply(c,i()(t)):s.classList.add(t));return null!=n&&(s.innerHTML=n),null!=a&&r(s,a),s}t.a={remove:function(){Array.from(arguments).forEach((function(e){e&&e.parentNode.removeChild(e)}))},removeAllChild:function(e){if(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}},setAttributes:r,simpleCreateHTML:c,convertRemToPixels:function(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)},createByCode:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},isTextNode:function(e){return e.nodeType==Node.TEXT_NODE},calcInputWidthPx:function(e,t){var n=t||c("span",["Cyteria","to-calc-input-width"]);t||document.body.appendChild(n),n.innerHTML=e.value;var a=n.offsetWidth;return t||document.body.removeChild(n),a},selectElementFromChild:function(e,t){e=Array.isArray(e)?e:[e];for(var n=t;!e.every((function(e){return n.classList.contains(e)}))&&n!=document.body;)n=n.parentNode;return n==document.body&&console.error("element not found: ["+e.join(".")+"]"),n}}},function(e,t,n){e.exports=n(25)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=a=function(e){return n(e)}:e.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},a(t)}e.exports=a},function(e,t,n){"use strict";var a=n(5),i=n.n(a),r=n(6),c=n.n(r),s=n(3);function l(e){return Object(s.g)("stat base/"+e)}var o=function(){function e(t,n,a){i()(this,e),this.baseName=t,this.text=n,this.hasMultiplier=a,this.attributes={}}return c()(e,[{key:"appendAttribute",value:function(e,t){return e&&null!=t&&(this.attributes[e]=t),this}},{key:"title",value:function(t){return t==e.TYPE_CONSTANT?this.hasMultiplier?this.text:this.text+(this.attributes.constant_formula&&this.attributes.constant_formula.includes("$u")||!this.attributes.constant_formula?"%":""):t==e.TYPE_MULTIPLIER?this.text+"%":void 0}},{key:"show",value:function(t,n,a){var i=this;a=Object.assign({processPositiveValue:null,processNegativeValue:null,set_sign:null,calc:!0},a),"number"!=typeof n&&a.calc&&(n=parseFloat(n));var r=function(e,t){var r=a.set_sign?a.set_sign:n<0?"":"+",c=(e=e.split("::")[n<0?1:0]||e).replace("$t",i.text).replace("$u",t).replace("$s",r).replace("$v",a.calc?Math.floor(n):n).replace(/\$(\d+)d/,(function(e,t){return n.toFixed(parseInt(t))}));return a.processPositiveValue&&n>=0&&(c=a.processPositiveValue(c)),a.processNegativeValue&&n<0&&(c=a.processNegativeValue(c)),c};switch(t){case e.TYPE_CONSTANT:return r(this.attributes.constant_formula||"$t$s$v$u",this.hasMultiplier?"":"%");case e.TYPE_MULTIPLIER:return r(this.attributes.multiplier_formula||"$t$s$v$u","%");case e.TYPE_TOTAL:return r(l("type total: preText")+"$t$s$v$u","%")}}},{key:"getShowData",value:function(t,n){var a="",i="";switch(t){case e.TYPE_CONSTANT:a=this.text,this.hasMultiplier||(i="%"),this.attributes.constant_formula&&!this.attributes.constant_formula.includes("$u")&&(i="");break;case e.TYPE_MULTIPLIER:a=this.text,i="%",this.attributes.multiplier_formula&&!this.attributes.multiplier_formula.includes("$u")&&(i="");break;case e.TYPE_TOTAL:a=l("type total: preText")+this.text,i="%"}return{result:this.show(t,n),title:a,value:n,tail:i}}},{key:"createSimpleStat",value:function(e,t){return new _(this,e,t)}}]),e}();o.TYPE_CONSTANT=Symbol("constant"),o.TYPE_MULTIPLIER=Symbol("multiplier"),o.TYPE_TOTAL=Symbol("total");var _=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i()(this,e),this.base=t,this.type=n,this.value=a}return c()(e,[{key:"show",value:function(e,t){return void 0===t&&(t=this.value),this.base.show(this.type,t,e)}},{key:"getShowData",value:function(){return this.base.getShowData(this.type,this.value)}},{key:"statValue",value:function(e){return void 0!==e&&(this.value=e),this.value}},{key:"addStatValue",value:function(e){return this.value+=e,this.value}},{key:"baseName",value:function(){return this.base.baseName}},{key:"title",value:function(){return this.base.title(this.type)}},{key:"equals",value:function(e){return e.base==this.base&&e.type==this.type}},{key:"copy",value:function(){return this.base.createSimpleStat(this.type,this.value)}}]),e}();t.a=o},function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return _})),n.d(t,"a",(function(){return u}));var a=n(1),i={node_id:"global--Loading-Page"},r=0;function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var r=t.map((function(e){var t=document.createElement("div");return t.classList.add("msg-scope"),t.innerHTML='<span class="text">'.concat(e,'</span><span class="status-icon loading">').concat(Object(a.c)("loading"),"</span>"),document.querySelector("div#".concat(i.node_id," > div.msg")).appendChild(t),t}));e(1==r.length?r[0]:r)}))}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,a=document.createElement("div");a.innerHTML=e,document.querySelector("div#".concat(i.node_id," > div.msg")).appendChild(a),t&&(n.no_error=!1)}function l(e){var t=e.querySelector(".status-icon");t&&(t.innerHTML=Object(a.c)("finished"),t.classList.remove("loading"),t.classList.add("finished"))}function o(e,t){r=-1;var n=e.querySelector(".status-icon");n&&(n.innerHTML=Object(a.c)("error"),n.classList.remove("loading"),n.classList.add("error")),t&&console.log(t)}function _(){return-1!=r}function u(){document.getElementById(i.node_id).classList.add("hidden"),null,c=null,s=null,_=null,l=null,u=null}},function(e,t,n){"use strict";function a(e){switch(e){case"Skill":return"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=170573319&single=true&output=csv&range=A:Q";case"Skill/language":return["https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=170573319&single=true&output=csv&range=R:R",null,"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=170573319&single=true&output=csv&range=S:S","https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=170573319&single=true&output=csv&range=T:T"];case"Skill Main":return"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=2033454381&single=true&output=csv&range=A:D";case"Skill Main/language":return["https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=2033454381&single=true&output=csv&range=F:F",null,"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=2033454381&single=true&output=csv&range=G:G","https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=2033454381&single=true&output=csv&range=H:H"];case"Character Stats":return"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=616452461&single=true&output=csv&range=A:D";case"Character Stats/language":return[null,null,null,"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=616452461&single=true&output=csv&range=J:K"];case"Tag":return"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=1107380961&single=true&output=csv&range=A:C";case"Tag/language":return["https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=1107380961&single=true&output=csv&range=D:E",null,"https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=1107380961&single=true&output=csv&range=F:G","https://docs.google.com/spreadsheets/d/e/2PACX-1vS_XhF85gZ5sd9AtOMSM6JY4OuQwFlD6kToQynQ4bMq_fiaUNr26c7dbrIs6WeWnscKe1rau1npWYe7/pub?gid=1107380961&single=true&output=csv&range=H:I"];case"Equipment/divided":return["https://docs.google.com/spreadsheets/d/e/2PACX-1vRwaGM9CClGkSw-6iUFmdOyIeI-_9i5RvIuHdSCTCUgFCk7GV4v1evt5C79JSG5P66ZGopM2-ZJJaEA/pub?gid=0&single=true&output=csv&range=A2:I6000","https://docs.google.com/spreadsheets/d/e/2PACX-1vRwaGM9CClGkSw-6iUFmdOyIeI-_9i5RvIuHdSCTCUgFCk7GV4v1evt5C79JSG5P66ZGopM2-ZJJaEA/pub?gid=0&single=true&output=csv&range=A6001:I12000","https://docs.google.com/spreadsheets/d/e/2PACX-1vRwaGM9CClGkSw-6iUFmdOyIeI-_9i5RvIuHdSCTCUgFCk7GV4v1evt5C79JSG5P66ZGopM2-ZJJaEA/pub?gid=0&single=true&output=csv&range=A12001:I18000"];case"Enchant":return"https://docs.google.com/spreadsheets/d/e/2PACX-1vQ4beI9I-sFoTgbTaKeMHRVo3xNm3gc5nQ-MWb9u7dlzRk0QmnMoJwcaR0815IqP0t-9-htpS8mUdQ1/pub?gid=0&single=true&output=csv&range=A:K"}console.warn("Unknow DataPath Name.")}function i(e,t,n){return new Promise((function(a,i){"string"==typeof e&&e?Papa.parse(e,{download:!0,complete:function(e){t[n]=e.data,a()},error:function(e){t[n]=null,console.warn("Error when load data."),console.log(e),i()}}):(t[n]=null,a())}))}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}))},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";t.a={}},function(e,t,n){var a=n(26),i=n(27),r=n(28);e.exports=function(e){return a(e)||i(e)||r()}},function(e,t,n){"use strict";var a={menu:"menu",data_skillElementNo:"data-seno",data_mainWeapon:"data-mainw",data_subWeapon:"data-subw",data_bodyArmor:"data-armor",data_branchIndex:"data-bi",data_skillLevel:"data-slv"};t.a=function(){return a}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(3),i=n(2),r=n(1);function c(e){e=Object.assign({isHomePage:!1,languageData:null},e),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register(e.isHomePage?"./sw.js":"../sw.js",{updateViaCache:"imports"})})),Object(a.c)(),e.languageData&&Object(a.b)(e.languageData),Object(a.d)(),document.title=Object(a.a)("Page Title"),Object(r.b)(),i.a.storageAvailable("localStorage")&&("1"!==localStorage["main-font-family"]&&document.querySelector("body").classList.add("font1","lang-"+Object(a.f)()),"1"===localStorage["Theme--Night-Mode"]&&document.body.classList.add("theme--night-mode"));var t=i.a.element.simpleCreateHTML;if(!e.isHomePage){var n=document.querySelector("nav");n.innerHTML='<ul><li><a href="../">'.concat(Object(a.a)("Top List/item 1"),"</a></li><li><span>").concat(Object(a.a)("Top List/item 2"),"</span></li></ul>")+n.innerHTML}var c=document.createElement("div");c.id="global--Loading-Page",c.appendChild(t("div","main","loading...")),c.appendChild(t("div","content",Object(a.a)("Loading Page/content"))),c.appendChild(t("div","msg")),document.body.appendChild(c);var s=function(e,t){return"".concat(Object(r.a)(e),'<span class="text">').concat(t,"</span>")},l=t("div","author-information"),o=t("span",["Cyteria","Button","simple","no-border","no-padding"],s("weather-night",Object(a.a)("footer/night mode")));o.addEventListener("click",(function(){i.a.storageAvailable("localStorage")&&("1"!==localStorage["Theme--Night-Mode"]?localStorage["Theme--Night-Mode"]="1":localStorage["Theme--Night-Mode"]="0"),document.body.classList.toggle("theme--night-mode")})),l.appendChild(o),l.appendChild(t("span",["Cyteria","scope-icon","auth-name"],s("ghost","Cyteria"))),l.appendChild(t("a",["Cyteria","scope-icon"],s("book",Object(a.a)("footer/baha home")),{href:"https://home.gamer.com.tw/homeindex.php?owner=mushroom2135",target:"_blank"})),l.appendChild(t("a",["Cyteria","scope-icon"],s("twitter","Cyteria_w"),{href:"https://twitter.com/Cyteria_w",target:"_blank"})),document.querySelector("footer").appendChild(l)}function s(){}},function(e,t,n){var a=n(29);e.exports=function(e){return new a(e)}},function(e,t,n){var a=n(32);e.exports=function(e){return function(){return new a(e.apply(this,arguments))}}},function(e,t,n){"use strict";function a(e){for(var t=[];e.parent;)t.push(e.findLocation()),e=e.parent;return t.reverse().join("-")}function i(e,t){return t.split("-").map((function(e){return parseInt(e,10)})).reduce((function(t,n,a,i){switch(a){case 0:return e.skillTreeCategorys[n];case 1:return t.skillTrees[n];case 2:return t.skills[n];case 3:return t.branchs[n]}}),null)}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(9),i=n.n(a),r=n(5),s=n.n(r),l=n(6),o=n.n(l),_="data-cy-component",u=function(){function e(t){s()(this,e);var n=function(){};this._name=t.name||"",this._create=t.create||n,this._update=t.update||n,this._getElement=t.getElement||n,this._childComponents=t.components||{},this._callbacks=t.callbacks||{},this._methods=t.methods||{},this._eventListeners=t.eventListeners||{}}return o()(e,[{key:"$create",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=this._create.apply(this,[this].concat(t));return a.setAttribute(_,this._name),a}},{key:"$update",value:function(e){if(e.getAttribute(_)!==this._name)throw new Error("[argument: element] is not create by this CyComponent");for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this._update.apply(this,[this,e].concat(n))}},{key:"$preUpdate",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this._update.apply(this,[this,e].concat(n))}},{key:"$getElement",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._getElement.apply(this,[this].concat(t))}},{key:"$component",value:function(e){if(!this._childComponents[e])throw new Error("Unknow component name: "+e);return this._childComponents[e]}},{key:"$method",value:function(e){if(void 0===this._methods[e])throw new Error("Unknow method name: "+e);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this._methods[e].apply(this,[this].concat(n))}},{key:"$callback",value:function(e){if(void 0===this._callbacks[e])throw new Error("Unknow callback name: "+e);return this._callbacks[e]}},{key:"$eventListener",value:function(e){if(void 0===this._eventListeners[e])throw new Error("Unknow event-listeners name: "+e);return this._eventListeners[e]}},{key:"appendComponent",value:function(e,t){if(this._childComponents[e])throw new Error("This component is already exist. Please try other component name.");if("object"!=i()(t))throw new Error("type of given component is not Object.");return this._childComponents[e]=t,this}},{key:"appendLink",value:function(e,t){if(this._links[e])throw new Error("This link is already exist. Please try other link name.");if("function"!=typeof c)throw new Error("type of given link is not Function.");return this._links[e]=c,this}}]),e}()},,,function(e,t,n){var a=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n,a){var i=t&&t.prototype instanceof m?t:m,r=Object.create(i.prototype),c=new P(a||[]);return r._invoke=function(e,t,n){var a=_;return function(i,r){if(a===d)throw new Error("Generator is already running");if(a===p){if("throw"===i)throw r;return j()}for(n.method=i,n.arg=r;;){var c=n.delegate;if(c){var s=M(c,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===_)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var l=o(e,t,n);if("normal"===l.type){if(a=n.done?p:u,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}(e,n,c),r}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var _="suspendedStart",u="suspendedYield",d="executing",p="completed",h={};function m(){}function f(){}function E(){}var v={};v[r]=function(){return this};var b=Object.getPrototypeOf,g=b&&b(b(T([])));g&&g!==n&&a.call(g,r)&&(v=g);var O=E.prototype=m.prototype=Object.create(v);function C(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e){var t;this._invoke=function(n,i){function r(){return new Promise((function(t,r){!function t(n,i,r,c){var s=o(e[n],e,i);if("throw"!==s.type){var l=s.arg,_=l.value;return _&&"object"==typeof _&&a.call(_,"__await")?Promise.resolve(_.__await).then((function(e){t("next",e,r,c)}),(function(e){t("throw",e,r,c)})):Promise.resolve(_).then((function(e){l.value=e,r(l)}),(function(e){return t("throw",e,r,c)}))}c(s.arg)}(n,i,t,r)}))}return t=t?t.then(r,r):r()}}function M(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=o(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function T(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,c=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return c.next=c}}return{next:j}}function j(){return{value:t,done:!0}}return f.prototype=O.constructor=E,E.constructor=f,E[s]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},C(y.prototype),y.prototype[c]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,a,i){var r=new y(l(t,n,a,i));return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},C(O),O[s]="Generator",O[r]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(a,i){return s.type="throw",s.arg=e,n.next=a,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var c=this.tryEntries[r],s=c.completion;if("root"===c.tryLoc)return i("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),o=a.call(c,"finallyLoc");if(l&&o){if(this.prev<c.catchLoc)return i(c.catchLoc,!0);if(this.prev<c.finallyLoc)return i(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return i(c.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return i(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var c=r?r.completion:{};return c.type=e,c.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:T(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=a}catch(e){Function("r","regeneratorRuntime = r")(a)}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){this.wrapped=e}},function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},function(e,t,n){"use strict";var a=n(8),i=n.n(a),r=n(5),c=n.n(r),s=n(6),l=n.n(s),o=n(19),_=n.n(o),u=n(20),d=n.n(u),p=n(3),h=function(e,t,n,a){var i=0,r=1,c=[t,n,a];Object(p.e)(c,1,i),Object(p.e)(c,3,r),t.forEach((function(t,n){if(0!=n){var a=e.appendStatBase(t[0],t[1],"無"!=t[2]);t[3]&&a.appendAttribute("constant_formula",t[3])}}))},m=n(10),f=n(12),E={"stat base":{"type total: preText":"總"}},v={"stat base":{"type total: preText":"Total "}},b={},g=function(){function e(){c()(this,e),this.statList=[]}return l()(e,[{key:"init",value:function(){}},{key:"init_statList",value:function(){var e=this;return d()(i.a.mark((function t(){var n,a,r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(p.b)({zh_tw:E,en:v,ja:b}),n=[],a=Object(p.f)(),r=Object(p.h)(),c=Array(3),n.push(Object(f.b)(Object(f.a)("Character Stats"),c,0)),1!=a&&(s=Object(f.a)("Character Stats/language"),n.push(Object(f.b)(s[a],c,1)),a!=r&&n.push(Object(f.b)(s[r],c,2))),t.next=8,_()(Promise.all(n));case 8:return void(t.next=10);case 10:h.apply(void 0,[e].concat(c));case 11:case"end":return t.stop()}}),t)})))()}},{key:"appendStatBase",value:function(e,t,n){var a=new m.a(e,t,n);return this.statList.push(a),a}},{key:"StatList",value:function(){return this.statList}},{key:"findStatBase",value:function(e){return this.StatList().find((function(t){return t.baseName==e}))}},{key:"findStatBaseFromText",value:function(e){return this.StatList().find((function(t){return t.text==e}))}}]),e}();t.a=g},function(e,t,n){var a=n(29);function i(e){var t,n;function i(t,n){try{var c=e[t](n),s=c.value,l=s instanceof a;Promise.resolve(l?s.wrapped:s).then((function(e){l?i("return"===t?"return":"next",e):r(c.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(r,c){var s={key:e,arg:a,resolve:r,reject:c,next:null};n?n=n.next=s:(t=n=s,i(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)},e.exports=i},function(e,t,n){var a=n(9),i=n(38);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var a=n(30);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5),i=n.n(a),r=n(6),c=n.n(r),s=n(2),l=n(4),o=function(){function e(){i()(this,e),this.branchs=[],this.attributes={}}return c()(e,[{key:"from",value:function(e){var t=this;return Object.getOwnPropertySymbols(e.attributes).forEach((function(n){t.appendAttribute(n,e.attributes[n])})),e.branchs.forEach((function(e){t.newBranch().from(e)})),this}},{key:"newBranch",value:function(){var e=new _(this);return this.branchs.push(e),e}},{key:"overWrite",value:function(e){var t=this;Object.getOwnPropertySymbols(e.attributes).forEach((function(n){var a=e.attributes[n];""==a&&t.attributes[n]?delete t.attributes[n]:t.appendAttribute(n,a)})),e.branchs.forEach((function(e,n){var a=t.branchs.findIndex((function(t){return"-"!==t.id&&t.id==e.id}));-1!=a&&t.branchs[a].overWrite(e)}))}},{key:"appendAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"checkData",value:function(){return 0!=this.branchs.length}},{key:"getHistoryDates",value:function(){return this.branchs.filter((function(e){return"history"==e.name})).map((function(e){return e.branchAttributes.date})).filter((function(e,t,n){return n.indexOf(e)==t})).sort((function(e,t){e=e.split("/").map((function(e){return parseInt(e,10)})),t=t.split("/").map((function(e){return parseInt(e,10)}));var n=new Date(e[0],e[1]-1,e[2]);return new Date(t[0],t[1]-1,t[2])>=n?1:-1}))}}]),e}(),_=function(){function e(t){i()(this,e),this.parent=t,this.branchAttributes={},this.stats=[],this.finished=!1,this.historyBranchAttributes={},this.historyStats=[]}return c()(e,[{key:"from",value:function(e){var t=this;return this.id=e.id,this.name=e.name,this.branchAttributes={},Object.keys(e.branchAttributes).forEach((function(n){t.appendBranchAttribute(n,e.branchAttributes[n])})),e.stats.forEach((function(e){t.appendExistingStat(e.copy())})),this}},{key:"appendBranchAttribute",value:function(e,t){var n;return(n=l.b.prototype.appendBranchAttribute).call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"findLocation",value:function(){return l.b.prototype.findLocation.call(this)}},{key:"appendExistingStat",value:function(e){this.stats.push(e)}},{key:"appendStat",value:function(e,t,n){var a;return(a=l.b.prototype.appendStat).call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"overWrite",value:function(e){var t=this;if(""===e.name&&e.isEmpty()){var n=this.parent.branchs;n.splice(n.indexOf(this),1)}else""!==e.name&&this.name!=e.name&&(this.name=e.name,s.a.object.empty(this.branchAttributes)),Object.keys(e.branchAttributes).forEach((function(n,a){var i=e.branchAttributes[n];""==i&&t.branchAttributes[n]?delete t.branchAttributes[n]:t.appendBranchAttribute(n,i)})),e.stats.forEach((function(e){var n=t.stats.find((function(t){return e.equals(t)}));void 0===n?t.appendExistingStat(e.copy()):""==e.value?t.stats.splice(t.stats.indexOf(n),1):n.statValue(e.value)}))}},{key:"isEmpty",value:function(){return l.b.prototype.isEmpty.call(this)}},{key:"finish",value:function(){this.finished=!0}},{key:"isFinished",value:function(){return this.finished}}]),e}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(4);function a(e){var t=function(e,t){Object.keys(t).forEach((function(n){void 0===e.branchAttributes[n]&&e.appendBranchAttribute(n,t[n])}))},n=e.branchAttributes;switch(e.name){case"damage":t(e,{constant:"0",multiplier:"0",type:"single",base:"auto",frequency:"1",title:"normal",judgment:"common",damage_type:"physical"}),"single"!==n.type&&t(e,{end_position:"target",effective_area:"circle"});break;case"stack":t(e,{min:"1",default:"auto"});break;case"effect":case"hit":t(e,{type:"self",condition:"auto"});break;case"heal":t(e,{target:"self",frequency:"1",constant:"0"});break;case"next":t(e,{type:"none"});break;case"poration":case"proration":t(e,{poration:e.branchAttributes.proration,proration:e.branchAttributes.poration}),t(e,{poration:"auto",proration:"auto"});break;case"group":t(e,{expandable:"1",expansion_default:"0"});break;case"passive":case"text":case"tips":case"list":case"head":case"extra":case"reference":case"formula_extra":case"history":case"":break;default:return console.warn("Unknow Skill Branch Name."),void console.log(e)}return e}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _SkillElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_CharacterSystem_module_StatBase_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_getBranchHTML_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),_main_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_TempSkillElement_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(37),_strings_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16),_InitSkillData_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(39),_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1),_SkillElementMethods_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(21),_main_Grimoire_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(14);function branchDevelopmentController(e,t){this.baseEffect=(new _TempSkillElement_js__WEBPACK_IMPORTED_MODULE_6__.a).from(e),this.currentOutput=(new _TempSkillElement_js__WEBPACK_IMPORTED_MODULE_6__.a).from(t)}function getEffectHTML(sef,attr_name,ctrr){var data=ctrr.status,SLv=data.skillLevel,CLv=data.characterLevel,safeEval=function safeEval(str){try{return eval(str)}catch(e){return console.warn(e),"?"}},_getSkillAttributeDat=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.c)(),ICON_DATA=_getSkillAttributeDat.ICON_DATA,TITLE_DATA=_getSkillAttributeDat.TITLE_DATA,TEXT_LIST=_getSkillAttributeDat.TEXT_LIST,title=TITLE_DATA[attr_name],v=sef.attributes[attr_name],tail="",icon=Array.isArray(ICON_DATA[attr_name])?ICON_DATA[attr_name][v]:ICON_DATA[attr_name];switch(attr_name){case _SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.CASTING_TIME:title=TITLE_DATA[attr_name][sef.attributes[_SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.SKILL_TYPE]],tail=Object(_main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_1__.g)("global/second");case _SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.MP_COST:v=safeEval(v);break;case _SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.RANGE:v="-"!=v?safeEval(v)+"m":Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.a)("range: no limit");break;case _SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.SKILL_TYPE:case _SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.IN_COMBO:case _SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.ACTION_TIME:v=TEXT_LIST[attr_name][v]}var he=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.b)(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_9__.c)(icon),null,v+tail);return he}function beforeExport(e,t){t.status;function n(e){var n=t.status.skill_from_where_scope;_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_2__.a.element.removeAllChild(n),n.classList.remove("hidden");var a=this.querySelector("div.temp");a||(a=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","temp"),this.appendChild(a)),a.appendChild(n);var i=t.getSkillElementScope(_SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.a.TYPE),r=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_2__.a.element.convertRemToPixels(1),c=this.getBoundingClientRect(),s=n.getBoundingClientRect(),l=i.getBoundingClientRect(),o=c.left-l.left,_=c.top,u=s.width,d=l.width,p=s.height,h=window.innerHeight;n.style.left="0",o+s.width>d-r?n.style.left=(d-1*u-o)/r-.5+"rem":o<s.width&&(n.style.left=-1*o/r+.5+"rem"),n.style.top=_>h/2?-1*p/r-.5+"rem":c.height/r+.5+"rem";var m=Object(_SkillElementMethods_js__WEBPACK_IMPORTED_MODULE_10__.b)(t.skillRoot,this.getAttribute(Object(_strings_js__WEBPACK_IMPORTED_MODULE_7__.a)().data_skillElementNo));n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.b)(null,Object(_main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_1__.g)("Skill Query/Skill Element/skill tree: from"),m.parent.name));var f=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","button_scope"),E=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("span",["Cyteria","Button","simple"],Object(_main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_1__.g)("global/cancel"));E.addEventListener("click",(function(e){this.parentNode.parentNode.classList.add("hidden"),e.stopPropagation()}));var v=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("span",["Cyteria","Button","simple"],Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.a)("button text/to skill"));v.addEventListener("click",(function(e){this.parentNode.parentNode.classList.add("hidden"),t.skillRecord(m),e.stopPropagation()})),f.appendChild(E),f.appendChild(v),n.appendChild(f)}function a(e){this.parentNode.querySelector("div.scope1").classList.toggle("hidden"),this.querySelector(".open").classList.toggle("hidden"),this.querySelector(".close").classList.toggle("hidden"),e.stopPropagation()}function i(e){function t(e){return"1"===e.getAttribute("data-expanded")}function n(e){return parseInt(e.getAttribute("data-groupsize"),10)}for(var a=this.parentNode.querySelectorAll(".branch"),i=Array.from(a).indexOf(this);-1!=i&&!a[i].hasAttribute("data-groupsize");)--i;if(-1!=i){var r,c=t(a[i]),s=[],l=[];for(s.push(n(a[i])),l.push(c);i!=a.length&&0!=s.length;)++i,--s[s.length-1],r=a[i],l[l.length-1]?r.classList.add("hidden"):r.classList.remove("hidden"),0==s[s.length-1]&&(s.pop(),l.pop()),a[i].hasAttribute("data-expanded")&&(s.push(n(a[i])),l.push(c?t(a[i]):c));this.setAttribute("data-expanded",c?"0":"1")}}_main_Grimoire_js__WEBPACK_IMPORTED_MODULE_11__.a.TagSystem.controller.processShowTagButton(e.querySelectorAll(".show_tag_button")),e.querySelectorAll("span.skill_from_where_button").forEach((function(e){return e.addEventListener("click",n)})),e.querySelectorAll("div.content > div.scope1").forEach((function(e){if(!e.parentNode.classList.contains("content-line")&&0!==e.childElementCount){e.classList.add("Cyteria","entrance","fade-in-down");var t=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("span","hidden_toggle_button",'<span class="close Cyteria Button icon-only right">'+Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_9__.c)("arrow-up")+'</span><span class="open hidden Cyteria Button icon-only right">'+Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_9__.c)("arrow-down")+"</span>");t.addEventListener("click",a),e.parentNode.insertBefore(t,e.parentNode.firstChild),t.click()}}));var r=e.querySelectorAll(".branch");function c(e){this.style.width=Math.max(_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_2__.a.element.calcInputWidthPx(this,t.nodes.toCalcInputWidth)+2,16)+"px"}r.forEach((function(e,t){if(e.hasAttribute("data-groupsize")){e.classList.add("group_content");for(var n=null,a=t+parseInt(e.getAttribute("data-groupsize"),10),c=t+1;c<=a&&c<r.length;++c){var s=r[c];if(s.hasAttribute("data-groupsize")){var l=parseInt(s.getAttribute("data-groupsize"),10);t+=l,a+=l}else if(s.classList.add("group_content"),s.classList.contains("branch_stack")||s.classList.add("Cyteria","entrance","fade-in-down"),"1"===s.getAttribute("data-grouptitle")){n=s;break}}n||(n=e),n.addEventListener("click",i),n.classList.add("group_title"),n.click()}})),e.querySelectorAll(".group_content").forEach((function(e){if(!e.classList.contains("group_title")){var t=e.previousSibling;"HR"==t.tagName.toUpperCase()&&_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_2__.a.element.remove(t)}})),e.querySelectorAll(".stack-input").forEach((function(e){c.call(e),e.addEventListener("input",c)})),e.querySelectorAll(".skill-attribute > .value > .value-history").forEach((function(e){e.parentNode.parentNode.classList.add("border-mark")}))}branchDevelopmentController.prototype={branchDetail:function(e,t,n,a){function i(e){switch(e){case _CharacterSystem_module_StatBase_js__WEBPACK_IMPORTED_MODULE_3__.a.TYPE_CONSTANT:return"";case _CharacterSystem_module_StatBase_js__WEBPACK_IMPORTED_MODULE_3__.a.TYPE_MULTIPLIER:return"%";case _CharacterSystem_module_StatBase_js__WEBPACK_IMPORTED_MODULE_3__.a.TYPE_TOTAL:return"~"}}var r=this.currentOutput.branchs[t.findLocation()],c="-"!==e.id?Object(_InitSkillData_js__WEBPACK_IMPORTED_MODULE_8__.a)(this.baseEffect.branchs.find((function(t){return t.id==e.id}))):e,s=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","dev_branchDetail"),l=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","top");l.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("span","_no",e.id)),l.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("span","_name",c.name)),s.appendChild(l);var o=document.createElement("tbody"),_=document.createElement("tr"),u=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td",null,null,{colspan:0!==c.stats.length?3:2});if(u.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","_title",Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.a)("branch development controller/title: default"))),_.appendChild(u),o.appendChild(_),Object.keys(c.branchAttributes).forEach((function(t){var n=document.createElement("tr");n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_name",t));var a=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_value",c.branchAttributes[t]);0!==c.stats.length&&a.setAttribute("colspan",2),n.appendChild(a),void 0===r.branchAttributes[t]&&n.classList.add("by_default"),t in e.branchAttributes&&e.branchAttributes[t]!==c.branchAttributes[t]&&n.classList.add("overwrite"),o.appendChild(n)})),c.stats.forEach((function(t){var n=document.createElement("tr");n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_name",t.baseName())),n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_value",t.statValue())),n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_extra",i(t.type))),e.stats.find((function(e){return t.equals(e)&&t.statValue()!=e.statValue()}))&&n.classList.add("overwrite"),o.appendChild(n)})),!n&&"-"!==e.id&&a){var d=document.createDocumentFragment(),p=document.createElement("tr"),h=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td",null,null,{colspan:0!==e.stats.length?3:2});h.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","_title",Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.a)("branch development controller/title: not default"))),p.appendChild(h),d.appendChild(p),Object.keys(e.branchAttributes).forEach((function(t){var n=document.createElement("tr");n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_name",t));var a=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_value",e.branchAttributes[t]);0!==e.stats.length&&a.setAttribute("colspan",2),n.appendChild(a),d.appendChild(n)})),e.stats.forEach((function(e){var t=document.createElement("tr");t.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_name",e.baseName())),t.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_value",e.statValue())),t.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("td","_extra",i(e.type))),d.appendChild(t)})),o.appendChild(d)}var m=document.createElement("table");return m.appendChild(o),s.appendChild(m),s}},__webpack_exports__.a=function(e){var t=e.status,n=t.currentSkill,a=(t.skillLevel,t.characterLevel,(new _TempSkillElement_js__WEBPACK_IMPORTED_MODULE_6__.a).from(n.defaultEffect)),i=n.effects.find((function(i){if(e.equipmentCheck(i,t))return i!=n.defaultEffect&&a.overWrite(i),!0}));if(void 0!==i){var r=document.createDocumentFragment();if(null!=t.currentSkillHistoryDate){var c=t.currentSkillHistoryDate,s=a.getHistoryDates(),l=a.branchs;l.forEach((function(e){var t=l.find((function(t){return"history"==t.name&&t.branchAttributes.target_branch==e.id&&t.branchAttributes.date==c}));if(t){var n=s.indexOf(c);s.slice(0,n).forEach((function(t){var n=l.find((function(n){return"history"==n.name&&n.branchAttributes.target_branch==e.id&&n.branchAttributes.date==t}));n&&(Object.keys(n.branchAttributes).forEach((function(t){return e.branchAttributes[t]=n.branchAttributes[t]})),n.stats.forEach((function(t){var n=e.stats.find((function(e){return t.equals(e)}));n?n.statValue(t.statValue()):e.appendExistingStat(t.copy())})))})),e.historyBranchAttributes=t.branchAttributes,e.historyStats=t.stats}}))}else e.updateSelectSkillHistoryDateScope(a.getHistoryDates());var o=[_SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.MP_COST,_SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.RANGE,_SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.SKILL_TYPE,_SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.IN_COMBO,_SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.ACTION_TIME,_SkillElements_js__WEBPACK_IMPORTED_MODULE_0__.c.CASTING_TIME],_=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","skill-attributes");o.forEach((function(t){if(t in a.attributes){var n=getEffectHTML(a,t,e);n&&_.appendChild(n)}})),_.appendChild(e.nodes.openSkillAttributeIconTipsButton),r.appendChild(_);var u=Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","skill_branchs");if(u.appendChild(document.createElement("hr")),a.checkData()){var d=t.branchDevelopmentMode,p=null;d&&(p=new branchDevelopmentController(n.defaultEffect,a)),a.branchs.forEach((function(e){e.isEmpty()||Object(_InitSkillData_js__WEBPACK_IMPORTED_MODULE_8__.a)(e)})),null===t.stackValues&&(t.stackValues={},_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_2__.a.object.empty(t.stackNames),a.branchs.forEach((function(e){if("stack"==e.name){var n=e.branchAttributes,a="auto"==n.default?n.min:n.default;t.stackValues[Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.d)(e)]=a,t.stackNames[Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.d)(e)]=e.branchAttributes.name}})));var h=null;a.branchs.forEach((function(t){var a=Object(_getBranchHTML_js__WEBPACK_IMPORTED_MODULE_4__.a)(t,e);if(null!==a&&(null!==h&&(u.appendChild(h),u.appendChild(document.createElement("hr"))),h=a),d){var r=i===n.defaultEffect,c=i.branchs.find((function(e){return t.id==e.id}));u.appendChild(p.branchDetail(!r&&c?c:t,t,r,void 0!==c))}})),null!==h&&u.appendChild(h)}else u.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","no_data",Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.a)("no data")));return r.appendChild(u),beforeExport(r,e),r}return Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.e)("div","no_data",Object(_main_js__WEBPACK_IMPORTED_MODULE_5__.a)("equipment not confirm"))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_main_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_SkillElementMethods_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_strings_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),SUFFIX_LIST=["extra","proration","group","formula_extra"],EXTRA_FIX_LIST=["stack"];function getTargetText(e,t){return{self:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("target type: self"),party:t?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("target type: party & is place"):Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("target type: party"),aura:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("target type: aura"),target:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("target type: target"),none:null}[e]}function lightText(e){return'<span class="light">'+e+"</span>"}function darkText(e){return'<span class="dark">'+e+"</span>"}function separateText(e){return'<span class="separate_text">'+e+"</span>"}function markText(e){return lightText(e)}function setTagButton(e){return'<span class="show_tag_button">'+e+"</span>"}function getProrationHTML(e){var t=e.branchAttributes,n={physical:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("physical"),magic:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("magic"),normal_attack:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("normal attack"),none:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("damage proration type: none")},a=Object.assign({},n,{auto:n[t.damage],none:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective proration type: none")}),i={physical:"sword",magic:"iconify/mdi:meteor",normal_attack:"iconify/mdi:crosshairs",none:"iconify/mdi:selection-ellipse"};return Object.assign(i,{auto:i[t.damage]}),{one:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)(i[t.damage]),Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("damage proration: title"),n[t.damage]),two:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)(i[t.proration]),Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective proration: title"),a[t.proration])}}function getDamageElementHTML(e){var t={neutral:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: neutral"),fire:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: fire"),water:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: water"),earth:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: earth"),wind:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: wind"),light:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: light"),dark:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: dark"),arrow:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: arrow"),one_hand_sword:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("element: one hand sword")},n=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","skill-attribute"),a=e;return"arrow"!=e&&"one_hand_sword"!=e||(a="multiple"),n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["element_"+a,"element_ball"])),n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["value","element_value"],t[e])),n}function createContentLine(e,t,n){n=Object.assign({headIcon:!0,extrafrgs:null},n);var a=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div",["content","content-line"]),i=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","scope1"),r=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","scope2");return i.appendChild(e),r.appendChild(t),n.headIcon&&a.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["Cyteria","scope-icon"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("arrow-right"))),a.appendChild(i),a.appendChild(r),void 0!==n.extrafrgs&&null!==n.extrafrgs&&(Array.isArray(n.extrafrgs)?n.extrafrgs.forEach((function(e){return a.appendChild(e)})):a.appendChild(n.extrafrgs)),a}function createBranchTitleScope(e){return Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["Cyteria","scope-icon","text-small"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("book")+'<span class="text">'+e+"</span>")}function getBranchHTML(branch,ctrr){var data=ctrr.status;if(branch.isEmpty()&&branch.finish(),branch.isFinished())return null;function replaceExtraFormulaValue(e,t){t=formulaExtraTexts;var n={BSTR:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: BSTR"),BDEX:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: BDEX"),BINT:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: BINT"),BAGI:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: BAGI"),BVIT:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: BVIT"),STR:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: STR"),DEX:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: DEX"),INT:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: INT"),AGI:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: AGI"),VIT:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: VIT"),shield_refining:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: shield_refining"),dagger_atk:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: dagger_atk"),target_def:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: target_def"),target_level:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: target_level"),guard_power:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill formula: guard_power")};Object.keys(n).forEach((function(t){e=e.replace(new RegExp("\\$"+t,"g"),n[t])})),e=e.replace(/SLv/g,SLv).replace(/CLv/g,CLv).replace(/stack(?:\[\d+\])?/,(function(e){return safeEval(e)})).replace(/&(\d):/g,(function(e,n){return t[parseInt(n)]||"(?)"}));for(var a=/[a-zA-Z0-9_.]?\(?\d+(?:\.\d+)?[\*/\-\+]{1}\d+(?:\.\d+)?\)?/g;e.match(a);)e=e.replace(a,(function(e){return safeEval(e)}));return e=e.replace(/\*/g,"×").replace(/(\d+\.\d+)/g,(function(e,t){return 100*parseFloat(t)+"%"}))}function safeEval(str,dftv){try{return eval(str)}catch(e){return console.warn("Unable to process: "+str),void 0===dftv?"?":dftv}}function processText(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2?arguments[2]:void 0;n=Object.assign({pluralValuesType:"history",isValue:!1,defaultValue:"-1"},n);var a=e?e.branchAttributes:{},i=(e&&!n.isValue?e.branchAttributes[t]:t)||n.defaultValue,r=e?e.historyBranchAttributes[t]:void 0,c=void 0!==r?[r,i]:[i],s=[];return c.forEach((function(e,t){var i=[];if(e=e.replace(/\$\{([^\}]+)\}([%m]?)/g,(function(){var e=i.length;return i.push(processValue(null,arguments.length<=1?void 0:arguments[1],{light:!0,tail:arguments.length<=2?void 0:arguments[2]})),"@{{$ProcessedValues[".concat(e,"]}}")})).replace(/\(\(((?:(?!\(\().)+)\)\)/g,(function(){return separateText(arguments.length<=1?void 0:arguments[1])})).replace(/@\{\{\$ProcessedValues\[(\d+)\]\}\}/g,(function(e,t){return i[parseInt(t,10)]})).replace(/#([^\s]+)\s(\w?)/g,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=setTagButton(t[1].replace(new RegExp("_","g")," "));return""!==t[2]&&(a+=" "+t[2]),a})),void 0!==a.mark&&a.mark.split(/\s*,\s*/).forEach((function(t){e=e.replace(new RegExp(t,"g"),lightText(t))})),void 0!==a.branch&&a.branch.split(/\s*,\s*/).forEach((function(t){e=e.replace(new RegExp(t,"g"),lightText(t))})),void 0!==a.skill){var r=ctrr.skillRoot;a.skill.split(/\s*,\s*/).forEach((function(t){e=e.replace(new RegExp(t,"g"),(function(e){var t=r.findSkillByName(e);if(void 0===t)return e;var n=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","skill_from_where_button");return n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","skill_name",e)),n.setAttribute(Object(_strings_js__WEBPACK_IMPORTED_MODULE_4__.a)().data_skillElementNo,Object(_SkillElementMethods_js__WEBPACK_IMPORTED_MODULE_2__.a)(t)),n.outerHTML}))}))}void 0!==a.skill_tree&&a.skill_tree.split(/\s*,\s*/).forEach((function(t){e=e.replace(new RegExp(t,"g"),lightText(t))})),t!==c.length-1&&(e='<div><span class="Cyteria scope-icon light">'.concat(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("clock-outline"),'<span class="text">').concat(data.currentSkillHistoryDate,'</span></span></div><div class="plural-texts text-').concat(n.pluralValuesType,'">').concat(e,"</div>")),s.push(e)})),s.join("")}function processValue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(e?e.branchAttributes[t]:t)||n.defaultValue||"0",i=e?e.historyBranchAttributes[t]:void 0,r=/\s*,,\s*/,c=(a=void 0!==i?[i,a]:[a])[a.length-1].split(r);n=Object.assign({calc:!0,tail:"",head:"",suffixText:"",pretext:"",toPercentage:!1,checkHasStack:c[0],light:!1,separateText:c.length>1||data.showOriginalFormula,pluralValuesType:"history"},n);var s=[];return a.forEach((function(e,t){var i="";e.split(r).forEach((function(e,t){if(0==t)if(data.showOriginalFormula)e=e.replace(/CLv/g,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("character level")).replace(/SLv/g,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("skill level")).replace(/\*/g,"×").replace(/stack\[(\d+)\]/g,(function(e,t){return stack_name_list[parseInt(t,10)]})).replace(/stack[\[]{0}/g,(function(){return stack_name_list[0]})),i=e;else{if(n.calc){var a=safeEval(e,"?");"?"!==a&&(n.toPercentage&&(a*=100),void 0===a||Number.isInteger(a)||(a=a.toFixed(2)),i=a.toString())}else i=e;n.toPercentage&&(i+="%")}else e=replaceExtraFormulaValue(e),"0"===i?i=e:(e="-"!==e.charAt(0)?"+"+e:e,i+=e)})),i=n.pretext+i,i+=n.suffixText,n.separateText&&!i.match(/^[\d\.]+$/)&&(i=separateText(i)),i=n.head+i,i+=n.tail;var c=document.createElement("span");n.checkHasStack.includes("stack")?c.classList.add("effect-by-stack"):n.light&&c.classList.add("light"),c.innerHTML=i,t!==a.length-1&&c.classList.add("value-".concat(n.pluralValuesType)),s.push(c.outerHTML)})),s.join('<span class="Cyteria scope-icon plural-values-icon">'.concat(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("arrow-right-triangle"),"</span>"))}function processStat(e,t,n){n=Object.assign({pluralValuesType:"history"},n);var a=e.historyStats.find((function(e){return e.equals(t)})),i=[];return(a?[a,t]:[t]).forEach((function(e,t,a){var r=e.getShowData(),c=r.value.split(",,"),s=1===c.length&&safeEval(c[0])<0?"":"+",l=processValue(null,r.value,{tail:r.tail,head:r.title+s}),o=[];if(""===s&&o.push("dark"),t!=a.length-1&&o.push("value-".concat(n.pluralValuesType)),o.length>0){var _,u=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.element.createByCode(l);if(_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.element.isTextNode(u))l='<span class="'.concat(o.join(" "),'">').concat(l,"</span>");else(_=u.classList).add.apply(_,o),l=u.outerHTML}i.push(l)})),Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,i.join('<span class="Cyteria scope-icon plural-values-icon">'.concat(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("arrow-right-triangle"),"</span>")))}function getEffectiveAreaHTML(e){var t=e.branchAttributes,n="self"===t.end_position,a=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","scope1"),i=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","skill-attribute");if(i.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["_icon","element_ball","ball_character"])),i.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_value",Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area: character position"))),a.appendChild(i),!n){var r=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","skill-attribute");r.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["_icon","element_ball","ball_target"])),r.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_value",Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area: target position"))),a.appendChild(r)}var c,s,l,o,_="1"===t.is_sprint;["radius","angle","effective_area","move_distance","end_position_offsets"].forEach((function(n){if(t[n]){var i,r=t[n];switch(n){case"radius":i=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("radius"),c=safeEval(r),r=processValue(e,n,{tail:"m"});break;case"angle":i=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("sector: angle"),s=safeEval(r),r=processValue(e,n,{tail:"°"});break;case"effective_area":l=r,i=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area: title"),r={circle:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area type: circle"),line:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area type: line"),sector:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area type: sector")}[r];break;case"move_distance":i=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("move distanve: title"),r=processValue(e,n,{tail:"m"});break;case"end_position_offsets":if(!r||!_)return;r=(o=safeEval(r))>0?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area: target behind"):Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area: target front"),r+=Math.abs(o)+"m",i=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("effective area: end position")}a.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,i,r))}}));var u,d,p,h,m,f,E=document.createDocumentFragment(),v=function(e){return void 0!==e?10*e:10},b=getComputedStyle(document.body),g=b.getPropertyValue("--primary-light-3"),O=b.getPropertyValue("--primary-light-2"),C=b.getPropertyValue("--primary-light"),y=void 0===t.move_distance?8:12;switch(l){case"line":case"circle":switch(d=n?v(2*c+2)+v(o):v(2*c+y+2),u=v(2*c+2),p=v(c+1),h=u/2,m=n?p:p+v(8),f=h,l){case"circle":var M=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.drawCircle(m,f,v(c),{fill:C});E.appendChild(M);var L=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.drawCircle(m,f,v(c),{stroke:O,fill:"none","stroke-width":"2"});L.appendChild(_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.createAnimate("stroke",{values:"".concat(O,";").concat(g,";").concat(g),keyTimes:"0;0.2;1",dur:"2.5s"})),E.appendChild(L);break;case"line":var k=p+v(y)+v(o),P=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.drawPath("M".concat(p," ").concat(h-v(c)," A").concat(v(c)," ").concat(v(c)," 0 0 0 ").concat(p," ").concat(h+v(c)," L").concat(k," ").concat(h+v(c)," A").concat(v(c)," ").concat(v(c)," 0 0 0 ").concat(k," ").concat(f-v(c)," Z"),{fill:C});E.appendChild(P);var T=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.drawCircle(p,h,v(c),{stroke:O,fill:"none","stroke-width":"2"});T.appendChild(_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.createAnimate("stroke",{id:"a1",values:"".concat(O,";").concat(g,";").concat(g),keyTimes:"0;0.2;1",dur:"1s",repeatCount:"1",begin:"0s;a2.end",fill:"freeze"})),T.appendChild(_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.createAnimate("cx",{id:"a2",values:"".concat(p,";").concat(k,";").concat(k),keyTimes:"0;0.2;1",dur:"1.5s",repeatCount:"1",begin:"a1.end"})),E.appendChild(T)}break;case"sector":d=v(y+6),h=(u=v(y)*Math.sin(s/2*Math.PI/180)*2+v(2))/2,m=(p=v(4))+v(8),f=h;c=2;var j=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.drawSector(p,h,v(0),v(y),s/2,360-s/2,1,{fill:C});E.appendChild(j);var A=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.drawSector(p,h,v(0),v(1),s/2,360-s/2,1,{stroke:g,"stroke-width":"2"});A.appendChild(_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.createAnimate("d",{id:"a1",to:_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.getSectorD(p,h,v(y-2),v(y),s/2,360-s/2,1),dur:"0.4s",repeatCount:1,begin:"0s;a2.end",fill:"freeze"})),A.appendChild(_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.createAnimate("stroke",{id:"a2",to:g,dur:"2s",repeatCount:1,begin:"a1.end"})),E.appendChild(A)}var D=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.drawCircle(p,h,v(c<=.5&&n?.25:.5),{fill:g});if(_){var S=p+v(y)+v(o);D.appendChild(_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.createAnimate("cx",{values:"".concat(p,";").concat(S,";").concat(S),keyTimes:"0;0.2;1",dur:"1.5s",repeatCount:"1",begin:"a1.end"}))}if(E.appendChild(D),!n){var w=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.drawCircle(m,f,v(c>.5?.5:.25),{fill:b.getPropertyValue("--primary-water-blue")});E.appendChild(w)}var I=_main_module_cyteria_js__WEBPACK_IMPORTED_MODULE_3__.a.svg.create(d,u);I.appendChild(E);var W=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div",["effective-area","content","hidden","Cyteria","entrance","fade-in"]),B=document.createElement("div");return B.appendChild(I),W.appendChild(B),W.appendChild(a),W}function createailmentFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ailment_name",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ailment_chance",a=e.branchAttributes[t],i=document.createDocumentFragment();return i.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("label"),null,setTagButton(a))),i.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/chance"),processValue(e,n,{tail:"%"}))),i}var SLv=data.skillLevel,CLv=data.characterLevel,btype=branch.name,suffix=[],attr=branch.branchAttributes;branch.parent.branchs.slice(branch.findLocation()+1).find((function(e){return(-1==SUFFIX_LIST.indexOf(e.name)||e.isEmpty())&&("history"!=e.name||void 0!==e.branchAttributes.target_branch)||(suffix.push(e),!1)}));var extra_fix=branch.parent.branchs.filter((function(e){return-1!=EXTRA_FIX_LIST.indexOf(e.name)})),stack_branch_list=extra_fix.filter((function(e){return"stack"==e.name&&-1!=(attr.stack_id||"").split(",").indexOf(e.branchAttributes.id)})),stack_value_list=stack_branch_list.map((function(e){return safeEval(data.stackValues[Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.d)(e)])})),stack_name_list=stack_branch_list.map((function(e){return data.stackNames[Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.d)(e)]||Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/stack/base name")+e.branchAttributes.id})),stack=stack_value_list.length>1?stack_value_list:stack_value_list[0],he=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div",["branch","branch_"+btype]);"1"!==attr.is_mark||data.branchDevelopmentMode||he.classList.add("is_mark");var hry=suffix.find((function(e){return"history"==e.name}));if(void 0!==hry){if(hry.branchAttributes.date!=data.currentSkillHistoryDate)return null;var hry_date=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","hisory-date"),t=hry.branchAttributes.date||Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("unknow date");hry_date.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["Cyteria","scope-icon"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("clock-outline")+'<span class="text">'.concat(t,"</span>"))),he.appendChild(hry_date)}var group=suffix.find((function(e){return"group"==e.name}));if(void 0!==group){var _attr=group.branchAttributes;he.setAttribute("data-groupsize",_attr.size),_attr.expandable&&he.setAttribute("data-expanded","1"===_attr.expansion_default?"0":"1")}"1"===attr.is_group_title&&he.setAttribute("data-grouptitle","1");var formulaExtraTexts=function(){var e=suffix.find((function(e){return"formula_extra"==e.name}));return void 0!==e?e.branchAttributes.texts.split(/\s*,\s*/):[]}();switch(btype){case"stack":var stk=branch,left=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["Cyteria","Button","border","icon-only"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("sub")),right=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["Cyteria","Button","border","icon-only"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("add")),mid=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("input",["between-button","stack-input"]),unit=void 0!==stk.branchAttributes.unit?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","unit",stk.branchAttributes.unit):null,ov=data.stackValues[Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.d)(branch)];mid.value=ov;var maxv=parseInt(safeEval(stk.branchAttributes.max),10),minv=parseInt(safeEval(stk.branchAttributes.min),10),ctr_listener=function(e){var t=parseInt(mid.getAttribute("data-maxv"),10),n=parseInt(mid.getAttribute("data-minv"),10),a=parseInt(mid.value,10);switch(this.getAttribute("data-ctr")){case"-":--a;break;case"+":++a}a>t?a=t:a<n&&(a=n),a=String(a),mid.value=a,data.stackValues[Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.d)(stk)]=a,ctrr.updateSkillHTML()};left.setAttribute("data-ctr","-"),left.addEventListener("click",ctr_listener),right.setAttribute("data-ctr","+"),right.addEventListener("click",ctr_listener),mid.type="number",mid.setAttribute("data-maxv",maxv),mid.setAttribute("data-minv",minv),mid.addEventListener("change",ctr_listener),mid.addEventListener("focus",(function(e){this.select()}));var scope1=document.createDocumentFragment();void 0!==attr.name&&scope1.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",attr.name)),scope1.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",processValue(branch,"min")+"~"+(void 0!==attr.max?processValue(branch,"max"):"?")+(void 0!==attr.unit?attr.unit:"")));var main=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div",["Cyteria","Layout","set-buttons-line","no-padding"]);main.appendChild(left),main.appendChild(mid),null!==unit&&main.appendChild(unit),main.appendChild(right);var content=createContentLine(scope1,main,{headIcon:!1});return he.appendChild(content),branch.finish(),he;case"proration":case"poration":var _content=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","content"),_getProrationHTML=getProrationHTML(branch),one=_getProrationHTML.one,two=_getProrationHTML.two;return _content.appendChild(one),_content.appendChild(two),he.appendChild(_content),branch.finish(),he;case"damage":var damage_name=void 0!==attr.name?createBranchTitleScope(attr.name):null,text="";switch(attr.title){case"normal":text="1"==attr.frequency?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/title type: one"):Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/title type: total");break;case"each":text=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/title type: each");break;case"normal_attack":text=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/title type: normal attack")}var title=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",text);text={auto:"physical"==attr.damage_type?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/valid base: atk"):Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/valid base: matk"),atk:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/valid base: atk"),matk:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/valid base: matk"),none:null}[attr.base];var valid_base=null!==text?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,"physical"==attr.damage_type?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/valid base: atk"):Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/valid base: matk")):null,damage_type=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,{physical:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("physical"),magic:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("magic")}[attr.damage_type]),constant="0"===attr.constant&&null==data.currentSkillHistoryDate?null:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,processValue(branch,"constant")),multiplier=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,processValue(branch,"multiplier",{tail:"%"})),extra_constant=void 0!==attr.extra_constant?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,processValue(branch,"extra_constant")):null,ailment=null;void 0!==attr.ailment_name&&(ailment=createContentLine(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/ailment")),createailmentFragment(branch)));var area_scope=null,target_type=null;"single"==attr.type?target_type=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/target type: single")):(target_type=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("iconify/ic:round-image-search"),Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/target type: AOE")),area_scope=getEffectiveAreaHTML(branch),target_type.addEventListener("click",(function(){area_scope.classList.toggle("hidden")})),target_type.classList.add("show-area"));var damage_element=null;void 0!==attr.element&&(damage_element=getDamageElementHTML(attr.element));var damage_isPlace=null;"1"==attr.is_place&&(damage_isPlace=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/is place")));var damage_frequency=null,damage_judgment=null,damage_cycle=null;"1"===attr.frequency&&"each"!=attr.title||(damage_frequency=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",processValue(branch,"frequency",{tail:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/frequency: unit")})),text="common"==attr.judgment?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/judgment: common"):Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/judgment: separate"),damage_judgment=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,text),"1"==attr.is_place&&void 0!==attr.cycle&&(damage_cycle=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/cycle: pretext")+processValue(branch,"cycle",{tail:Object(_main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_0__.g)("global/second")}))));var proration_branch=suffix.find((function(e){return"proration"==e.name})),proration_damage=null,proration_proration=null;if(void 0!==proration_branch){var _getProrationHTML2=getProrationHTML(proration_branch),_one=_getProrationHTML2.one,_two=_getProrationHTML2.two;proration_damage=_one,proration_proration=_two,proration_branch.finish()}var damage_extras=suffix.filter((function(e){return"extra"==e.name})),damage_extras_frg=document.createDocumentFragment();damage_extras.forEach((function(e){var t=e.branchAttributes,n=document.createDocumentFragment();t.ailment_name&&n.appendChild(createailmentFragment(e)),t.element&&n.appendChild(getDamageElementHTML(t.element)),t.caption&&n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","text-scope",processText(e,"caption"))),e.stats.forEach((function(t){return n.appendChild(processStat(e,t))})),damage_extras_frg.appendChild(createContentLine(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",processText(e,"condition",{defaultValue:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/extra/base title")})),n)),e.finish()}));var top=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","top");null!==damage_name&&top.appendChild(damage_name);var frg1=document.createDocumentFragment();frg1.appendChild(damage_type),null!==damage_isPlace&&frg1.appendChild(damage_isPlace),null!==damage_element&&frg1.appendChild(damage_element),null!==damage_judgment&&frg1.appendChild(damage_judgment),null!==damage_cycle&&frg1.appendChild(damage_cycle),null!==proration_damage&&frg1.appendChild(proration_damage),null!=proration_proration&&frg1.appendChild(proration_proration);var frg2=document.createDocumentFragment(),constant_ary=[];null!==valid_base&&constant_ary.push(valid_base),null!==constant&&constant_ary.push(constant),constant_ary.length>1&&frg2.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["separate","between-skill-attribute"])),constant_ary.forEach((function(e,t){0!==t&&frg2.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["between-skill-attribute","Cyteria","scope-icon"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("add"))),frg2.appendChild(e)})),constant_ary.length>1&&frg2.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["separate","between-skill-attribute","space-right"])),frg2.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["between-skill-attribute","Cyteria","scope-icon"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("close"))),frg2.appendChild(multiplier),null!==extra_constant&&(frg2.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["between-skill-attribute","Cyteria","scope-icon"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("add"))),frg2.appendChild(extra_constant));var _content2=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","content"),_scope=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","scope1"),line_frg1=document.createDocumentFragment();line_frg1.appendChild(target_type),null!==damage_frequency&&line_frg1.appendChild(damage_frequency),line_frg1.appendChild(title);var line=createContentLine(line_frg1,frg2,{headIcon:!1});return _scope.appendChild(frg1),0!==_scope.childElementCount&&_content2.appendChild(_scope),0!=top.childElementCount&&he.appendChild(top),he.appendChild(_content2),he.appendChild(line),null!==ailment&&he.appendChild(ailment),damage_extras_frg.childElementCount>0&&he.appendChild(damage_extras_frg),null!==area_scope&&he.appendChild(area_scope),branch.finish(),he;case"effect":case"next":case"passive":var text_name=void 0!==attr.name?createBranchTitleScope(attr.name):null,c=attr.condition;"auto"==c&&(c=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/effect/condition: auto")),"hit"==c&&(c=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/effect/condition: hit")),"next"==btype&&void 0===attr.condition&&(c=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/effect/condition: next")),"passive"==btype&&(c=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/effect/condition: passive"));var condition="none"!=c?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",processText(branch,c,{isValue:!0})):null,end_condition=attr.end_condition?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",attr.end_condition):null,duration=null;if(attr.duration){var v=processValue(branch,"duration");if("1"===attr.is_place)duration=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/effect/duration"),v,Object(_main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_0__.g)("global/second"));else{var _t=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/effect/duration-2");duration=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title","".concat(_t[0]).concat(v).concat(_t[1]))}}var isPlace="1"===attr.is_place?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/is place")):null,_text=void 0!==attr.type?getTargetText(attr.type,"1"===attr.is_place):null,_target_type=null,_area_scope=null;void 0===attr.radius?_target_type=null!==_text?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,_text):null:(_target_type=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("search"),_text),attr.end_position="self",attr.effective_area="circle",_area_scope=getEffectiveAreaHTML(branch),_target_type.addEventListener("click",(function(){_area_scope.classList.toggle("hidden")})),_target_type.classList.add("show-area"));var extras=suffix.filter((function(e){return"extra"==e.name})),extras_frg=document.createDocumentFragment();extras.forEach((function(e){var t=e.branchAttributes;void 0===t.condition&&(t.condition=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/extra/base title"));var n=document.createDocumentFragment();t.caption&&n.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","text-scope",processText(e,"caption"))),e.stats.forEach((function(t){return n.appendChild(processStat(e,t))}));var a=document.createDocumentFragment();a.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",processText(e,"condition"))),void 0!==t.target&&a.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",t.target)),extras_frg.appendChild(createContentLine(a,n)),e.finish()}));var _scope2=document.createDocumentFragment();null!==condition&&_scope2.appendChild(condition);var _frg=document.createDocumentFragment();null!==isPlace&&_frg.appendChild(isPlace),null!==end_condition&&_frg.appendChild(end_condition),null!==duration&&_frg.appendChild(duration),null!=_target_type&&_frg.appendChild(_target_type);var scope2=document.createDocumentFragment();attr.caption?scope2.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","text-scope",processText(branch,"caption"))):branch.stats.forEach((function(e){return scope2.appendChild(processStat(branch,e))}));var _top=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","top");null!==text_name&&_top.appendChild(text_name),0!=_top.childElementCount&&he.appendChild(_top);var content_top=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","content");if(null!==isPlace){var s1=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","scope1");s1.appendChild(_frg),content_top.appendChild(s1)}else _scope2.appendChild(_frg);var _content3=createContentLine(_scope2,scope2,{headIcon:!1});return 0!==content_top.childElementCount&&he.appendChild(content_top),he.appendChild(_content3),0!==extras_frg.childElementCount&&he.appendChild(extras_frg),null!==_area_scope&&he.appendChild(_area_scope),branch.finish(),he;case"heal":var heal_name=void 0!==attr.name?createBranchTitleScope(attr.name):null,_text2=getTargetText(attr.target),target=null!=_text2?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,_text2):null,_constant="0"!=attr.constant?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,processValue(branch,"constant")):null,_duration=null;void 0!==attr.duration&&(_duration=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/effect/duration"),processValue(branch,"duration"),Object(_main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_0__.g)("global/second")));var frequency=null;void 0!==attr.frequency&&(frequency=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",processValue(branch,"frequency",{tail:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/heal/frequency: unit")})));var cycle=null;void 0!==attr.cycle&&(cycle=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/damage/cycle: pretext")+processValue(branch,"cycle",{tail:Object(_main_module_LanguageSystem_js__WEBPACK_IMPORTED_MODULE_0__.g)("global/second")})));var extra_frg=document.createDocumentFragment();if(void 0!==attr.extra_text){var ta=attr.extra_text.split(/\s*,\s*/),va=attr.extra_value.split(/\s*,\s*/).map((function(e){return processValue(null,e,{toPercentage:!0})}));ta.forEach((function(e,t){null===_constant&&0==t||extra_frg.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span",["between-skill-attribute","Cyteria","scope-icon"],Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("add"))),extra_frg.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,e,va[t]))}))}var _top2=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","top");null!==heal_name&&_top2.appendChild(heal_name),0!=_top2.childElementCount&&he.appendChild(_top2);var _content4=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","content"),_scope3=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","scope1");_scope3.appendChild(target),null!==_duration&&_scope3.appendChild(_duration),null!==cycle&&_scope3.appendChild(cycle),_content4.appendChild(_scope3),he.appendChild(_content4);var _frg2=document.createDocumentFragment();_frg2.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",{hp:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/heal/title: hp"),mp:Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/heal/title: mp")}[attr.type])),null!==frequency&&_frg2.appendChild(frequency);var _frg3=document.createDocumentFragment();return null!==_constant&&_frg3.appendChild(_constant),0!==extra_frg.childElementCount&&_frg3.appendChild(extra_frg),he.appendChild(createContentLine(_frg2,_frg3,{headIcon:!1})),branch.finish(),he;case"text":case"tips":var _text_name=void 0!==attr.name?createBranchTitleScope(attr.name):null,main_text=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","text-scope",processText(branch));if(void 0!==attr.icon){var iconStr={potum:Object(_main_module_SvgIcons_js__WEBPACK_IMPORTED_MODULE_5__.c)("potum")}[attr.icon];iconStr&&(main_text.classList.add("has_icon"),main_text.innerHTML='<span class="icon">'+iconStr+'</span><span class="text">'+main_text.innerHTML+"</span>")}var _top3=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","top");null!==_text_name&&_top3.appendChild(_text_name);var _content5=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","content");return _content5.appendChild(main_text),0!=_top3.childElementCount&&he.appendChild(_top3),he.appendChild(_content5),branch.finish(),he;case"list":var lists=[];lists.push(branch);for(var p=branch.findLocation()+1,cur=branch.parent.branchs[p];void 0!==cur&&cur.name==btype;)lists.push(cur),cur=branch.parent.branchs[++p];var ul=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("ul",["Cyteria","ul","simple","_list"]);lists.forEach((function(e){ul.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("li",null,processText(e))),e.finish()})),"1"===attr.is_tips&&ul.classList.add("is_tips");var _content6=Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("div","content");return _content6.appendChild(ul),he.appendChild(_content6),branch.finish(),he;case"reference":var _main_text=attr.text?Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","text-scope",processText(branch)):null,url_scope=null;if(attr.url){url_scope=document.createDocumentFragment();var urls=attr.url.split(","),url_texts=attr.url_text.split(",");urls.forEach((function(e,t){url_scope.appendChild(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.b)(null,null,'<a href="'.concat(e,'" target="_blank" class="url_text">').concat(url_texts[t],"</a>")))}))}return null!==_main_text&&he.appendChild(_main_text),null!==url_scope&&he.appendChild(createContentLine(Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.e)("span","_main_title",Object(_main_js__WEBPACK_IMPORTED_MODULE_1__.a)("branch/reference/reference url")),url_scope,{headIcon:!1})),branch.finish(),he}return null}__webpack_exports__.a=getBranchHTML},,,,function(e,t,n){"use strict";n.r(t);var a=n(8),i=n.n(a),c=n(14),s=n(5),l=n.n(s),o=n(6),_=n.n(o),u=n(19),d=n.n(u),p=n(20),h=n.n(p),m=n(4),f=n(3);function E(e,t,n,a){var i=["預設","非預設","預設/and","非預設/and"],r=["單手劍","雙手劍","弓","弩","法杖","魔導具","拳套","旋風槍","拔刀劍","雙劍","空手"],s=["箭矢","盾牌","小刀","魔導具","拳套","拔刀劍","無裝備"],l=["輕量化","重量化","一般","無裝備"],o=["瞬發","須詠唱","須蓄力","被動","EX技能"],_=["可以放入連擊","無法放入連擊","不可放入連擊的第一招"],u=["極慢","慢","稍慢","一般","稍快","快","極快"],d=null,p=[m.f.TYPE,m.e.TYPE,m.a.TYPE,m.c.TYPE,m.b.TYPE];function h(e,t){if(p.indexOf(e.TYPE)<=p.indexOf(t))return e;for(;e.TYPE!=t;)e=e.parent;return e}function E(e,t){return e===t?null:e}var v=[t,n,a];Object(f.e)(v,9,0),t.forEach((function(t,n){try{if(0==n)return;var a=t[0];if(""!=a){var f=t[1];switch(a=parseInt(t[0],10),f){case"0":var v=t[2];d=e.newElement(m.f.TYPE,{id:a,name:v});break;case"1":d=h(d,m.f.TYPE);var b=t[2];d=d.newElement(m.e.TYPE,{id:a,name:b});break;default:if(""!=f){d=h(d,m.e.TYPE);var g=t[1];d=d.newElement(m.a.TYPE,{id:a,name:g})}case"":var O=r.indexOf(t[3]),C=s.indexOf(t[4]),y=l.indexOf(t[5]),M=i.indexOf(t[2]);if(-1===M)return;var L=(d=h(d,m.a.TYPE)).newElement(m.c.TYPE,{mainWeapon:O,subWeapon:C,bodyArmor:y});!function(e,t,n){switch(t){case 2:case 3:if(e.setConfig({equipmentConfirm:1}),2!==t)break;case 0:n.setDefaultEffect(e)}}(L,M,d),d=L.appendAttribute(m.c.MP_COST,E(t[11],"")).appendAttribute(m.c.RANGE,E(t[12],"")).appendAttribute(m.c.SKILL_TYPE,E(o.indexOf(t[13]),-1)).appendAttribute(m.c.IN_COMBO,E(_.indexOf(t[14]),-1)).appendAttribute(m.c.ACTION_TIME,E(u.indexOf(t[15]),-1)).appendAttribute(m.c.CASTING_TIME,E(t[16],""))}}if(p.indexOf(d.TYPE)<p.indexOf(m.c.TYPE))return;var k=t[6];if(""!=k){d=h(d,m.c.TYPE);var P=t[7];d=d.newElement(m.b.TYPE,{id:k,name:P})}var T=t[8],j=t[9];""!=T&&(c.a.CharacterSystem.findStatBase(T)?d.appendStat(T,j,t[10]):d.appendBranchAttribute(T,j))}catch(e){console.warn("[Error] When Load Skill Data"),console.log(t)}}))}function v(e,t,n,a){var i,r,c=0,s=0,l=0,o=function(e,t,i){var r=n?n[i]:null,o=a?a[i]:null;switch(e){case"0":[r,o].find((function(e){if(e){var n=e[c];return n?(t.name=n,!0):void 0}}));break;case"1":[r,o].find((function(e){if(e){var n=e[s];return n?(t.name=n,!0):void 0}}));break;case"":[r,o].find((function(e){if(e){var n=e[l];return n?(t.name=n,!0):void 0}}))}};t.forEach((function(t,n){if(0!=n&&""!==t[1])try{var a=t[0],c=parseInt(t[1],10);switch(a){case"0":i=e.skillTreeCategorys.find((function(e){return e.id==c})),o(a,i,n);break;case"1":(r=i.skillTrees.find((function(e){return e.id==c}))).init(t[3]),o(a,r,n);break;case"":var s=r.skills.find((function(e){return e.id==c}));s.init("-"==t[2]?-1:parseInt(t[2],10),parseInt(t[3])),o(a,s,n)}}catch(e){console.warn("[Error] When Load Skill Main Data"),console.log(e),console.log(t)}}))}var b=n(12),g=n(13),O=n.n(g),C=n(2);function y(e,t){var n=(t=Object.assign({setSkillButton:function(e,t){}},t)).setSkillButton,a="../src/picture/skill_icons/stc_"+e.parent.id+"/st_"+e.id+"/",i=e.drawTreeCode||"S E S E S E S L S E S E S E S L S E S E S E S L S E S E S E S",r={gridWidth:50,svgPadding:40,textMargin:5,iconPadding:4},c=r.gridWidth,s=r.svgPadding,l=r.textMargin,o=r.iconPadding;function _(e){return s+c/2+e*c+l}var u=C.a.svg.drawLine,d=C.a.svg.drawCircle,p=C.a.svg.drawText,h=document.createDocumentFragment(),m=C.a.svg.createEmpty("defs");h.appendChild(m);var f=0,E=0,v=0,b=0;i.toUpperCase().replace(/([A-Z])(\d+)/g,(function(e,t,n){return Array(parseInt(n,10)).fill(t).join(" ")})).split(" ").forEach((function(t){if(b!=e.skills.length){var i=t.charAt(0);switch(i){case"L":f>v&&(v=f),f=0,++E;break;case"E":++f;break;case"D":case"S":var s;if(t.slice(1).split("").forEach((function(e){var t;"R"===e&&(t=u(_(f),_(E),_(f+1),_(E))),"B"===e&&(t=u(_(f),_(E),_(f),_(E+1))),h.appendChild(t)})),"D"===i&&(s=d(_(f),_(E),2,{class:"dot"})),"S"===i){s=document.createDocumentFragment();var g=e.skills.find((function(e){return e.drawOrder===b})),O=g.name||"?",y=d(_(f),_(E),c/2,{class:"skill-circle"});if(s.appendChild(y),"?"!==O)if("@lock"!==O){s.appendChild(p(_(f),_(E)-c/2-l,O,{class:"skill-name"})),n(y,g,Object.assign({cx:f,cy:E,lengthTransformFunction:_,documentFragment:s},r));var M="s_".concat(e.parent.id,"-").concat(e.id,"-").concat(g.id),L=C.a.svg.createEmpty("pattern",{id:M,width:1,height:1});L.appendChild(d(c/2,c/2,c/2,{fill:"url(#skill-icon-bg)","stroke-width":0})),L.appendChild(C.a.svg.drawImage("".concat(a,"si_").concat(g.id,".png"),o,o,c-2*o,c-2*o)),m.appendChild(L),y.style.fill="url(#"+M+")"}else y.classList.add("lock");++b}h.appendChild(s),++f;break;case"H":h.appendChild(u(_(f),_(E),_(f+1),_(E))),++f;break;case"V":h.appendChild(u(_(f),_(E),_(f),_(E+1))),++f}}}));var g=C.a.svg.create(_(v)-c/2+s,_(E)+c/2+s+l,{"xmlns:xlink":"http://www.w3.org/1999/xlink"});return g.classList.add("Cyteria","entrance","fade-in"),g.appendChild(h),g.classList.add("DrawSkillTree--main"),g}function M(){var e=C.a.svg.createEmpty("defs"),t=50,n=C.a.svg.drawCircle,a=C.a.svg.createEmpty("pattern",{width:1,height:1,id:"skill-icon-lock"}),i=C.a.svg.create(t,t,{x:13,y:13});i.innerHTML='<path fill="var(--primary-light)" d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"/>',a.appendChild(n(25,25,25,{fill:"var(--white)","stroke-width":0})),a.appendChild(i),e.appendChild(a);var r=C.a.svg.createLinearGradient("skill-icon-bg",".5","0",".5","1",[{offset:"0%","stop-color":"white"},{offset:"50%","stop-color":"#FFD1EA"},{offset:"100%","stop-color":"#f7a8d3"}]);return e.appendChild(r),e}var L=n(21),k=n(40),P=n(1),T=n(16),j=n(0);function A(e){return Object(f.g)("Skill Query/Controller/"+e)}var D=Symbol(),S=Symbol(),w=Symbol(),I=Symbol(),W=function(){function e(t){l()(this,e),this.MAIN_NODE=null,this.skillRoot=t,this.status={mainWeapon:-1,subWeapon:-1,bodyArmor:-1,skillLevel:10,characterLevel:200,currentSkill:null,stackValues:{},stackNames:{},showOriginalFormula:!1,skillRecords:[],skillEquipmentRecords:[],branchDevelopmentMode:!1,currentSkillHistoryDate:null},this.nodes={openSkillAttributeIconTipsButton:null,openSelectSkillHistoryDateButton:null};var n=this;this.listeners={closeWindow:function(e){this.parentNode.parentNode.classList.add("hidden")},setCurrentSkillHistoryDate:function(e){var t=this.getAttribute("data-date")||null;n.status.currentSkillHistoryDate=t;var a=n.nodes.openSelectSkillHistoryDateButton,i="<span>".concat(this.getAttribute("data-pre")||Object(f.g)("Skill Query/Analysis Skill/unknow date"),"</span>").concat(Object(P.c)("arrow-right-triangle"),"<span>").concat(this.getAttribute("data-date"),"</span>");a.querySelector(".text").innerHTML=i||a.getAttribute("data-last"),a.classList[t?"add":"remove"]("flip-icon"),n.updateSkillHTML(),n.MAIN_NODE.querySelector(".select-skill-history-date").classList.add("hidden")}}}return _()(e,[{key:"init",value:function(e){var t=this,n=this.skillRoot,a=Object(j.e)("div","main");e.appendChild(a),this.MAIN_NODE=a;var i=[m.d.TYPE,m.f.TYPE,m.e.TYPE,S,w,D,m.e.CATEGORY_EQUIPMENT,I,m.a.TYPE],r=document.createDocumentFragment(),c=Object(j.e)("div",["skill-query-options-scope"]),s=Object(j.e)("div",["skill-query-result-options-scope","Cyteria","animation"]),l=Object(j.e)("div",["skill-query-result-scope","Cyteria","frozen-floating-button-parent","hidden"]);i.forEach((function(e){var a=t.getSkillElementScope(e);switch(e){case m.d.TYPE:a.appendChild(t.createSkillQueryScopeHTML(n,Object(T.a)().menu)),r.appendChild(a);break;case m.f.TYPE:n.skillTreeCategorys.forEach((function(e){a.appendChild(this.createSkillQueryScopeHTML(e,Object(T.a)().menu))}),t),r.appendChild(a);break;case m.e.TYPE:r.appendChild(a);break;case S:a.classList.add("Cyteria","Layout","set-buttons-line"),r.appendChild(c);case w:a.appendChild(t.createSkillQueryScopeHTML(null,e)),c.appendChild(a);break;case D:r.appendChild(s),a.appendChild(t.createSkillQueryScopeHTML(null,e));case m.e.CATEGORY_EQUIPMENT:s.appendChild(a);break;case I:a.classList.add("hidden","Cyteria","Layout","sticky-header"),a.appendChild(t.createSkillQueryScopeHTML(null,e)),r.appendChild(a);break;case m.a.TYPE:l.appendChild(a),r.appendChild(l)}}),this),a.appendChild(r),this.status.skill_from_where_scope=Object(j.e)("div",["show_skill_from_where","hidden"]);var o=this,_=C.a.element.simpleCreateHTML("span",["switch_branch_development_mode","Cyteria","scope-icon"],"".concat(Object(P.c)("cards"),'<span class="text">技能資料對照</span>'));document.querySelector("footer > .author-information").appendChild(_),_.addEventListener("click",(function(e){o.status.branchDevelopmentMode=!o.status.branchDevelopmentMode,o.updateSkillHTML()}));var u=Object(j.e)("span",["Cyteria","Button","frozen-floating","bottom-right"],Object(P.c)("multiple-blank-circle"));u.addEventListener("click",(function(){var e=s.classList,t=e.contains("frozen");e.toggle("frozen"),this.innerHTML=t?Object(P.c)("multiple-blank-circle"):Object(P.c)("close")})),l.appendChild(u);var d=C.a.svg.create();d.appendChild(M()),a.appendChild(d);var p=Object(j.e)("div",["Cyteria","window","top-center","pop-right","hidden","skill-attribute-icon-tips"]),h=Object(j.e)("div","top");h.appendChild(Object(j.e)("span","name",A("skill attribute icon tips: title")));var E=Object(j.e)("span",["Cyteria","Button","icon-only","button"],Object(P.c)("close"));E.addEventListener("click",this.listeners.closeWindow),h.appendChild(E),p.appendChild(h);var v=Object(j.c)(),b=v.ICON_DATA,g=v.TITLE_DATA,O=v.TEXT_LIST;Object.getOwnPropertySymbols(g).forEach((function(e){var t=g[e],n=b[e],a=Array.isArray(n)?Object(P.c)("label"):Object(P.c)(n),i=Array.isArray(t)?t.filter((function(e){return""!==e})).join(Object(f.g)("global/split string")):t,r=document.createDocumentFragment(),c=Object(j.e)("div","title");if(c.appendChild(Object(j.e)("span",["Cyteria","scope-icon"],a+'<span class="text">'+i+"</span>")),r.appendChild(c),Array.isArray(n)){var s=Object(j.e)("div","content");n.forEach((function(t,n){return s.appendChild(Object(j.e)("div",["Cyteria","scope-icon","text-small","light","line"],Object(P.c)(t)+'<span class="text">'+O[e][n]+"</span>"))})),r.appendChild(s)}p.appendChild(r)})),this.MAIN_NODE.appendChild(p);var y=Object(j.e)("span",["Cyteria","Button","icon-only"],Object(P.c)("help-rhombus"));y.addEventListener("click",(function(e){p.classList.remove("hidden"),e.stopPropagation()})),this.nodes.openSkillAttributeIconTipsButton=y;var L=Object(j.e)("div",["Cyteria","window","top-center","pop-right","hidden","bg-mask","select-skill-history-date"]),k=Object(j.e)("div","top");k.appendChild(Object(j.e)("span","name",A("select skill history date: title")));var W=Object(j.e)("span",["Cyteria","Button","icon-only","button"],Object(P.c)("close"));W.addEventListener("click",this.listeners.closeWindow),k.appendChild(W),L.appendChild(k),L.appendChild(Object(j.e)("div","content")),this.MAIN_NODE.appendChild(L);var B=Object(j.e)("span",["Cyteria","Button","simple","after","text-light","no-border","single-line"],Object(P.c)("iconify/mdi:update")+'<span class="text"></span>');B.addEventListener("click",(function(e){L.classList.remove("hidden"),e.stopPropagation()})),this.nodes.openSelectSkillHistoryDateButton=B,this.getSkillElementScope(I).querySelector(".content").appendChild(B);var R=Object(j.e)("span",["Cyteria","to-calc-input-width"]);this.nodes.toCalcInputWidth=R,this.MAIN_NODE.appendChild(R)}},{key:"getSkillElementScope",value:function(e){var t,n=(t={},O()(t,m.d.TYPE,"SkillRoot_scope"),O()(t,m.f.TYPE,"SkillTreeCategory_scope"),O()(t,m.e.TYPE,"SkillTree_scope"),O()(t,m.a.TYPE,"Skill_scope"),O()(t,D,"SkillLevel_scope"),O()(t,S,"CharacterLevel_scope"),O()(t,w,"SwitchDisplayMode_scope"),O()(t,m.e.CATEGORY_EQUIPMENT,"SkillEquipment_scope"),O()(t,I,"SkillRecord_scope"),t),a=this.MAIN_NODE.querySelector("."+n[e]);return a||(a=document.createElement("div")).classList.add(n[e]),a}},{key:"skillRecord",value:function(e){this.status.skillRecords.push(this.status.currentSkill);var t=this.status,n=t.mainWeapon,a=t.subWeapon,i=t.bodyArmor;this.status.skillEquipmentRecords.push({mainWeapon:n,subWeapon:a,bodyArmor:i}),this.initCurrentSkill(e),this.initEquipmentScope(e.parent)}},{key:"popSkillRecord",value:function(){this.initCurrentSkill(this.status.skillRecords.pop()),this.initEquipmentScope(this.status.currentSkill.parent,this.status.skillEquipmentRecords.pop())}},{key:"clearSkillRecord",value:function(){var e=this.status.skillRecords;e.splice(0,e.length)}},{key:"equipmentCheck",value:function(e,t){return-1==e.mainWeapon&&-1==e.subWeapon&&-1==e.bodyArmor||(0===e.config.equipmentConfirm?-1!=t.mainWeapon&&t.mainWeapon==e.mainWeapon||0===e.mainWeapon&&9===t.mainWeapon&&void 0===e.parent.effects.find((function(e){return 9==e.mainWeapon}))||(-1!=t.subWeapon&&t.subWeapon==e.subWeapon||-1!=t.bodyArmor&&t.bodyArmor==e.bodyArmor):1===e.config.equipmentConfirm?t.mainWeapon==e.mainWeapon&&(0!==e.mainWeapon||9!==t.mainWeapon||void 0===e.parent.effects.find((function(e){return 9==e.mainWeapon})))&&(t.subWeapon==e.subWeapon&&t.bodyArmor==e.bodyArmor):void 0)}},{key:"setCurrentEquipment",value:function(e,t){var n=this,a=this.status;if(void 0!==a[e]){if(-1!==t){var i=[[5],[0,1,2,3,4,5],[1,2,3,4],[5],[3,5],[0,1,2,3,4,5],[4,5],[1,3,4,5],[1,3,4,5],[0,1,2,3,4,5],[5]];switch(e){case"mainWeapon":if(-1!==i[t].indexOf(a.subWeapon)){var r=this.getSkillElementScope(m.e.CATEGORY_EQUIPMENT).querySelector("li[".concat(Object(T.a)().data_subWeapon,'="-1"]'));r?r.click():a.subWeapon=-1}break;case"subWeapon":if(-1!==a.mainWeapon&&-1!==i[a.mainWeapon].indexOf(t)){var c=this.getSkillElementScope(m.e.CATEGORY_EQUIPMENT).querySelector("li[".concat(Object(T.a)().data_mainWeapon,'="-1"]'));c?c.click():a.mainWeapon=-1}}}a[e]=t,this.getSkillElementScope(m.e.TYPE).querySelectorAll(".skill-circle").forEach((function(e){var t=e.getAttribute(Object(T.a)().data_skillElementNo);null!==t&&(void 0===Object(L.b)(n.skillRoot,t).effects.find((function(e){return n.equipmentCheck(e,a)}))?e.classList.add("disable"):e.classList.remove("disable"))}))}else console.warn("Unknow equipment field name")}},{key:"initCurrentSkill",value:function(e){this.status.currentSkill=e,e.checkData()&&(C.a.object.empty(this.status.stackValues),this.status.stackValues=null);var t=this.getSkillElementScope(I);t.classList.remove("hidden"),this.status.skillRecords.length>0?t.querySelector(".back-button").classList.remove("hidden"):t.querySelector(".back-button").classList.add("hidden"),t.querySelector(".current_skill").innerHTML=e.name,this.status.currentSkillHistoryDate=null,this.nodes.openSelectSkillHistoryDateButton.classList.remove("flip-icon")}},{key:"updateSkillHTML",value:function(){var e=this.status.currentSkill;if(e){this.MAIN_NODE.querySelector(".skill-query-result-scope").classList.remove("hidden");var t=this.getSkillElementScope(m.a.TYPE);C.a.element.removeAllChild(t),t.appendChild(this.createSkillQueryScopeHTML(e,m.a.CATEGORY_MAIN))}}},{key:"initEquipmentScope",value:function(e,t){var n=this.createSkillQueryScopeHTML(e,m.e.CATEGORY_EQUIPMENT),a=this.getSkillElementScope(m.e.CATEGORY_EQUIPMENT);if(C.a.element.removeAllChild(a),null!==n){a.appendChild(n),t&&Object.assign(this.status,t);var i=this.getSkillElementScope(m.e.CATEGORY_EQUIPMENT).querySelector("li[".concat(Object(T.a)().data_bodyArmor,'="').concat(this.status.bodyArmor,'"]'));i&&i.click(),(i=this.getSkillElementScope(m.e.CATEGORY_EQUIPMENT).querySelector("li[".concat(Object(T.a)().data_mainWeapon,'="').concat(this.status.mainWeapon,'"]')))&&i.click()}}},{key:"createSkillQueryScopeHTML",value:function(e,t){var n=this;switch(null!==e?e.TYPE:t){case m.d.TYPE:switch(t){case Object(T.a)().menu:var a=this,i=function(e){var t=this.parentNode.getElementsByClassName("cur")[0];t&&t.classList.remove("cur"),this.classList.add("cur");a.getSkillElementScope(m.f.TYPE);var n=Array.from(this.parentNode.getElementsByTagName("li")).indexOf(this),i=a.getSkillElementScope(m.f.TYPE).querySelectorAll("div._menu"),r=Array.from(i).find((function(e){return!e.classList.contains("hidden")}));r&&r.classList.add("hidden"),i[n].classList.remove("hidden"),C.a.element.removeAllChild(a.getSkillElementScope(m.e.TYPE)),C.a.element.removeAllChild(a.getSkillElementScope(m.a.TYPE)),C.a.element.removeAllChild(a.getSkillElementScope(m.e.CATEGORY_EQUIPMENT)),a.MAIN_NODE.querySelector(".skill-query-result-scope").classList.add("hidden"),a.getSkillElementScope(I).classList.add("hidden");var c=i[n].querySelector("li.cur");c&&c.click()},r=document.createElement("div");r.className="_"+t;var c=document.createDocumentFragment();e.skillTreeCategorys.forEach((function(e){var t=Object(j.e)("li",null,e.name);t.setAttribute(Object(T.a)().data_skillElementNo,Object(L.a)(e)),t.addEventListener("click",i),c.appendChild(t)}));var s=document.createElement("ul");return s.appendChild(c),r.appendChild(s),r}case m.f.TYPE:switch(t){case Object(T.a)().menu:var l=this,o=function(e){var t=this.parentNode.getElementsByClassName("cur")[0];t&&t.classList.remove("cur"),this.classList.add("cur");var n=l.getSkillElementScope(m.e.TYPE);n.innerHTML="";var a=Object(L.b)(l.skillRoot,this.getAttribute(Object(T.a)().data_skillElementNo));n.appendChild(l.createSkillQueryScopeHTML(a,m.e.CATEGORY_DRAW_TREE)),l.initEquipmentScope(a);var i=l.getSkillElementScope(m.a.TYPE);C.a.element.removeAllChild(i),l.getSkillElementScope(I).classList.add("hidden"),l.status.currentSkill=null},_=Object(j.e)("div",["_"+t,"hidden","Cyteria","entrance","fade-in"]),u=document.createDocumentFragment();e.skillTrees.forEach((function(e){var t=Object(j.e)("li",null,e.name);t.setAttribute(Object(T.a)().data_skillElementNo,Object(L.a)(e)),t.addEventListener("click",o),u.appendChild(t)}));var d=document.createElement("ul");return d.appendChild(u),_.appendChild(d),_}case m.e.TYPE:switch(t){case m.e.CATEGORY_DRAW_TREE:return y(e,{setSkillButton:function(e,t){var a=n;e.addEventListener("click",(function(e){var t=Object(L.b)(a.skillRoot,this.getAttribute(Object(T.a)().data_skillElementNo));if(a.status.currentSkill!=t){var n=this.parentNode.querySelector(".cur");n&&n.classList.remove("cur"),this.classList.add("cur"),a.clearSkillRecord(),a.initCurrentSkill(t),a.updateSkillHTML()}})),e.setAttribute(Object(T.a)().data_skillElementNo,Object(L.a)(t))}});case m.e.CATEGORY_EQUIPMENT:var p=this,h=function(e){for(var t=["mainWeapon","subWeapon","bodyArmor"],n=[this.getAttribute(Object(T.a)().data_mainWeapon),this.getAttribute(Object(T.a)().data_subWeapon),this.getAttribute(Object(T.a)().data_bodyArmor)],a=0;a<n.length;++a){var i=n[a];if(null!==i&&""!==i)return p.setCurrentEquipment(t[a],parseInt(i,10)),this.parentNode.getElementsByClassName("cur")[0].classList.remove("cur"),this.classList.add("cur"),void p.updateSkillHTML()}},E=[],v=[],b=[];e.skills.forEach((function(e){e.effects.forEach((function(e){var t=e.mainWeapon,n=e.subWeapon,a=e.bodyArmor;-1==E.indexOf(t)&&E.push(t),-1==v.indexOf(n)&&v.push(n),-1==b.indexOf(a)&&b.push(a)}))}));var g=document.createDocumentFragment(),O=["mainWeapon","subWeapon","bodyArmor"];return[E,v,b].forEach((function(e,t){if(0!==e.length&&(1!=e.length||-1!=e[0])){var a,i,r,c;switch(e){case E:c=Object(T.a)().data_mainWeapon,r=A("main weapon"),a=["","","","","","","","","","",""],i=Object(f.g)("Skill Query/Analysis Skill/Main Weapon List");break;case v:c=Object(T.a)().data_subWeapon,r=A("sub weapon"),a=["","","","","","",""],i=Object(f.g)("Skill Query/Analysis Skill/Sub Weapon List");break;case b:c=Object(T.a)().data_bodyArmor,r=A("body armor"),a=["","","",""],i=Object(f.g)("Skill Query/Analysis Skill/Body Armor List")}var s=null,l=!1,o=document.createElement("ul");e.forEach((function(e){var r=document.createElement("li");r.setAttribute(c,e),r.addEventListener("click",h),-1!=e?(r.innerHTML='<span class="icon">'.concat(a[e],'</span><span class="value">').concat(i[e],"</span>"),o.appendChild(r),l||(r.classList.add("cur"),n.status[O[t]]=e,l=!0)):(r.innerHTML='<span class="icon"></span><span class="value">'.concat(A("equipment: unlimited"),"</span>"),s=r)})),null!==s&&o.appendChild(s);var _=document.createElement("div"),u=document.createElement("div");u.innerHTML=r,_.appendChild(u),_.appendChild(o),g.appendChild(_)}})),0!=g.childElementCount?g:null}case m.a.TYPE:switch(t){case m.a.CATEGORY_MAIN:return e.checkData()?Object(k.a)(this):Object(j.e)("div","no_data",Object(f.g)("Skill Query/Analysis Skill/no data"))}case S:var M=this,W=Object(j.e)("span",["Cyteria","Button","border","icon-only"],Object(P.c)("sub")),B=Object(j.e)("span",["Cyteria","Button","border","icon-only"],Object(P.c)("add")),R=Object(j.e)("input",["between-button","mid"]);R.value=this.status.characterLevel;var x=function(e){var t=parseInt(R.value,10);switch(this.getAttribute("data-ctr")){case"-":t-=10;break;case"+":t+=10}t>190?t=190:t<0&&(t=0),R.value=t,M.status.characterLevel=t,M.updateSkillHTML()};W.setAttribute("data-ctr","-"),W.addEventListener("click",x),B.setAttribute("data-ctr","+"),B.addEventListener("click",x),R.type="number",R.addEventListener("change",x),R.addEventListener("focus",(function(e){this.select()}));var U=document.createDocumentFragment();return U.appendChild(Object(j.e)("div",["Cyteria","scope-icon","title"],Object(P.c)("cards")+'<span class="text">'.concat(Object(f.g)("Skill Query/Analysis Skill/character level"),"</span>"))),U.appendChild(W),U.appendChild(R),U.appendChild(B),U;case D:for(var K=this,N=function(e){var t=K.status.currentSkill;this.parentNode.getElementsByClassName("cur")[0].classList.remove("cur"),this.classList.add("cur"),K.status.skillLevel=parseInt(this.getAttribute(Object(T.a)().data_skillLevel),10),null!=t&&K.updateSkillHTML()},H=document.createElement("ul"),V=1;V<=10;++V){var q=Object(j.e)("li",["Cyteria","Button","simple"],"Lv. "+V);q.setAttribute(Object(T.a)().data_skillLevel,V),q.addEventListener("click",N),V==this.status.skillLevel&&q.classList.add("cur"),H.appendChild(q)}return H;case w:var Y=this,F=document.createDocumentFragment(),Q=Object(j.e)("span",["Cyteria","Button","simple"],Object(P.c)("switch")+'<span class="text">'+A("switch display")+"</span>");return Q.addEventListener("click",(function(e){Y.status.showOriginalFormula=!Y.status.showOriginalFormula,Y.updateSkillHTML()})),F.appendChild(Q),F;case I:var G=this,z=Object(j.e)("div","content"),X=Object(j.e)("span",["Cyteria","Button","icon-only","single-line","back-button"],Object(P.c)("arrow-left"));X.addEventListener("click",(function(e){G.popSkillRecord()}));var $=Object(j.e)("span",["Cyteria","scope-icon"],Object(P.c)("iconify/mdi:script")+'<span class="text current_skill"></span>');return z.appendChild(X),z.appendChild($),z}}},{key:"updateSelectSkillHistoryDateScope",value:function(e){var t=this,n=this.nodes.openSelectSkillHistoryDateButton;n.classList[0==e.length?"add":"remove"]("hidden");var a=e[0]||"";n.querySelector(".text").innerHTML=a,n.setAttribute("data-last",a);var i=document.createDocumentFragment();e.forEach((function(e,n,a){var r=Object(j.e)("span",["Cyteria","Button","line"],Object(P.c)("clock-outline")+'<span class="text">'.concat(e,"</span>"));r.setAttribute("data-date",e),r.setAttribute("data-pre",a[n+1]||""),r.addEventListener("click",t.listeners.setCurrentSkillHistoryDate),i.appendChild(r)}));var r=Object(j.e)("span",["Cyteria","Button","line"],Object(P.c)("close")+'<span class="text">'.concat(Object(f.g)("global/clear"),"</span>"));r.addEventListener("click",this.listeners.setCurrentSkillHistoryDate),i.appendChild(r);var c=this.MAIN_NODE.querySelector(".select-skill-history-date > .content");C.a.element.removeAllChild(c),c.appendChild(i)}}]),e}(),B=n(22),R=n(15),x=n.n(R),U=n(7),K=function(){function e(){l()(this,e),this.windows={},this.currentWindows=[];var t=this;this.listeners={closeWindow:function(e){t.closeWindow(this.getAttribute("data-window-name"))}},this.init()}return _()(e,[{key:"init",value:function(){this.mainNode=U.a.simpleCreateHTML("div",["Cyteria","window-container"]),this.backgroundMask=U.a.simpleCreateHTML("div",["Cyteria","window-bg-mask","hidden"]);var e=this;this.backgroundMask.addEventListener("click",(function(t){0!=e.currentWindows.length&&e.closeWindow(e.currentWindows.pop()),0==e.currentWindows.length&&this.classList.add("hidden")})),this.mainNode.appendChild(this.backgroundMask)}},{key:"getWindowContainer",value:function(){return this.mainNode}},{key:"getWindow",value:function(e){var t=this.windows[e];if(null==t)throw new Error("Window name: "+e+" is not exist");return t}},{key:"appendWindow",value:function(e,t){t=Object.assign({extraClassList:[],title:"",contentDocumentFragment:null},t);var n=U.a.simpleCreateHTML;if(void 0!==this.windows[e])throw new Error("window name: "+e+" is already exist.");var a=n("div",["Cyteria","window","hidden"].concat(x()(t.extraClassList))),i=n("div","top");i.appendChild(n("span","title",t.title));var r=n("span",["Cyteria","Button","icon-only","button"],Object(P.c)("close"),{"data-window-name":e});r.addEventListener("click",this.listeners.closeWindow),i.appendChild(r),a.appendChild(i);var c=n("div","content");return t.contentDocumentFragment&&c.appendChild(t.contentDocumentFragment),a.appendChild(c),this.windows[e]=a,this.mainNode.appendChild(a),a}},{key:"closeWindow",value:function(e){var t=this.windows[e];if(null==t)throw new Error("Window name: "+e+" is not exist");t.classList.add("hidden"),this.currentWindows.splice(this.currentWindows.indexOf(e),1)}},{key:"openWindow",value:function(e){var t=this.windows[e];if(null==t)throw new Error("Window name: "+e+" is not exist");t.classList.remove("hidden"),this.backgroundMask.classList.remove("hidden")}}]),e}();var N=function(){function e(t){l()(this,e),this.skillRoot=t,this.nodes={main:null,buttons:null},this.components={SkillRoot:null},this.status={skillPointStep:5,skillPointOperating:"+"},this.listeners={setStep:function(e){var t=this.getAttribute("data-set");ctrr.status.skillPointStep=parseInt(t,10)},setOperating:function(e){var t=this.getAttribute("data-set");ctrr.status.skillPointOperating=t}}}return _()(e,[{key:"init",value:function(e){this.initComponent();var t=C.a.element.simpleCreateHTML;e.classList.add("SkillSimulator-main");var n=C.a.svg.create();n.appendChild(M()),e.appendChild(n);var a=t("div","main"),i=this.components.SkillRoot.$create(this.skillRoot);a.appendChild(i),this.WindowController=new K;t("div",["Cyteria","Layout","sticky-header","top"]);e.appendChild(a);var r=t("div","bottom-menu"),c=t("div",["select-menu","hidden"]),s=t("div","content");function l(e){this.classList.add("selected");var t=this.parentNode.querySelector(".selected");t&&t.classList.remove("selected");var n=c.querySelector(".column:not(.hidden)");n&&n.classList.add("hidden"),c.querySelector('.column[data-id="'.concat(this.getAttribute("data-id"),'"]')).classList.remove("hidden"),c.classList.remove("hidden")}function o(e){var t=s.querySelector('.set-button[data-id="'.concat(this.parentNode.parentNode.getAttribute("data-id"),'"]'));t.innerHTML=this.innerHTML,t.classList.remove("selected"),c.classList.add("hidden")}var _=function(e,n,a,i,r,_){var u,d=t("div",["column","hidden"],null,{"data-id":e}),p=t("div","buttons-scope");i.forEach((function(e,n){var i=t("span",["Cyteria","Button","icon-only"],Object(P.c)(a[n]));i.setAttribute("data-set",e),i.addEventListener("click",o),i.addEventListener("click",_),p.appendChild(i)})),d.appendChild(t("div",["Cyteria","scope-icon","line"],Object(P.c)("multiple-blank-circle")+'<span class="text">'.concat((u="main menu/"+n,Object(f.g)("Skill Simulator/Controller/"+u)),"</span>"))),d.appendChild(p),c.appendChild(d);var h=t("span",["Cyteria","Button","icon-only","set-button"],Object(P.c)(a[i.indexOf(r)]),{"data-id":e});return h.addEventListener("click",l),s.appendChild(h),d};_(0,"operating",["add","sub"],["+","-"],this.status.skillPointOperating,this.listeners.setOperating),_(1,"step value",["iconify/mdi:numeric-1","iconify/mdi:numeric-5","iconify/mdi:numeric-10"],[1,5,10],this.status.skillPointStep,this.listeners.setStep),r.appendChild(c),r.appendChild(s),e.appendChild(r),e.appendChild(this.WindowController.getWindowContainer())}},{key:"initComponent",value:function(){var e=C.a.element.simpleCreateHTML,t=this,n=new B.a({name:"SkillSimulator/SkillTree",create:function(t,n){var a=e("div","skill-tree",null,{"data-id":n.id}),i=y(n,{setSkillButton:t.$callback("set-skill-tree-button")});return a.appendChild(i),a},update:function(e,t){var n=this;e.querySelector(".skill-level-text").forEach((function(e){var a=parseInt(n.getAttribute("data-id"));e.innerHTML=t.skills.find((function(e){return e.id==a})).level()}))},eventListeners:{"click-skill-tree-button":function(e){var a=Object(L.b)(this.getAttribute("data-iid")),i=t.status.skillPointStep*("-"==t.status.skillPointOperating?-1:1);a.addLevel(i),a.updateTree();var r=document.getElementById(n.$method("get-html-element-id",Object(L.a)(a.parent)));n.$update(r)}},methods:{"get-html-element-id":function(e,t){return"Skill-Simulator--skill-tree--"+t}},callbacks:{"set-skill-tree-button":function(e,t,n){var a=n.gridWidth,i=n.cx,r=n.cy,c=n.lengthTransformFunction,s=C.a.svg.drawCircle,l=C.a.svg.drawText,o=s(c(i)+a/2,c(r)+a/2,a/4,{class:"skill-level-circle"}),_=l(c(i)+a/2,c(r)+a/2,t.level(),{class:"skill-level-text","data-iid":Object(L.a)(t)});e.parentNode.insertBefore(_,e.previousSibling),e.parentNode.insertBefore(o,_)}}}),a=new B.a({name:"SkillSimulator/SkillTreeCategory",create:function(t,n){return e("div","skill-tree-category",null,{"data-id":n.id})},update:function(e,t,n){if("skill-tree"==n){var a=arguments.length<=3?void 0:arguments[3],i=r.querySelector('.skill-tree[data-id="'.concat(a.id,'"]'));if(i)e.$component("skill-tree").$update(i,a);else{var c=e.$component("skill-tree").$create(a),s=r.querySelectorAll(".skill-tree");0==s.length?t.appendChild(c):Array.from(s).find((function(e,n,i){if(parseInt(e.getAttribute("data-id"))>a.id)return t.insertBefore(c,e),!0;n==i.length-1&&t.appendChild(c)}))}}},components:{"skill-tree":n}}),i=new B.a({name:"SkillSimulator/SkillRoot",create:function(t,n){var a=e("div","skill-root"),i=e("div","top"),r=document.createDocumentFragment();n.skillTreeCategorys.forEach((function(e){var n=t.$component("SkillTreeCategory").$create(e);r.appendChild(n)}));var c=e("div","skill-tree-categorys");return c.appendChild(r),a.appendChild(i),a.appendChild(c),a},update:function(e,t){var n=e.$getElement("main");if("skill-tree"==t){var a=arguments.length<=2?void 0:arguments[2],i=n.querySelector('.skill-tree-category[data-id="'.concat(a.parent.id,'"]'))||e.$update("append|skill-tree-category",a.parent);e.$component("skill-tree-category").$update(i,"skill-tree",a)}else if("append|skill-tree-category"==t){var r=arguments.length<=2?void 0:arguments[2],c=e.$component("skill-tree-categorys").$create(r),s=n.querySelectorAll(".skill-tree-category");return 0==s.length?n.appendChild(c):Array.from(s).find((function(e,t,a){if(parseInt(e.getAttribute("data-id"),10)>r.id)return n.insertBefore(c,e),!0;t==a.length-1&&n.appendChild(c)})),c}},components:{"skill-tree-category":a},getElement:function(e,n){if("main"==n)return t.nodes.querySelector(".skill-root")}});this.components.SkillRoot=i,this.components["select-skill-tree"]=new B.a({name:"select-skill-tree",create:function(t,n){var a=e("div","select-skill-tree-menu");return n.skillTreeCategorys.forEach((function(n){n.skillTrees.forEach((function(n){var i=e("span",["Cyteria","Button","line"],Object(P.c)("iconify/mdi:file-tree")+'<span class="text">'.concat(n.name,"</span>"),{"data-iid":Object(L.a)(n)});i.addEventListener("click",t.$eventListener("toggle-select-skill-tree")),a.appendChild(i)}))})),document.createElement("div")},eventListeners:{"toggle-select-skill-tree":function(t){this.classList.toggle("selected"),this.classList.contains("selected")?this.appendChild(e("span",["Cyteria","scope-icon","content-right","selected-icon"],Object(P.c)("done"))):this.removeChild(this.querySelector(".selected-icon"))}}})}}]),e}(),H=function(){function e(){l()(this,e),this.skillRoot=new m.d(this)}return _()(e,[{key:"init",value:function(){var e=this;return h()(i.a.mark((function t(){var n,a,r,c,s,l,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e,n=Object(f.f)(),a=Object(f.h)(),r=[],c=Array(3),s=Array(3),r.push(Object(b.b)(Object(b.a)("Skill"),c,0)),1!=n&&(l=Object(b.a)("Skill/language"),r.push(Object(b.b)(l[n],c,1)),n!=a&&r.push(Object(b.b)(l[a],c,2))),r.push(Object(b.b)(Object(b.a)("Skill Main"),s,0)),1!=n&&(o=Object(b.a)("Skill Main/language"),r.push(Object(b.b)(o[n],s,1)),n!=a&&r.push(Object(b.b)(o[a],s,2))),t.next=10,d()(Promise.all(r));case 10:return void(t.next=12);case 12:E.apply(void 0,[e.skillRoot].concat(c)),v.apply(void 0,[e.skillRoot].concat(s));case 14:case"end":return t.stop()}}),t)})))()}},{key:"init_SkillQuery",value:function(e){var t=this;return this.SkillQueryController=new W(this.skillRoot),new Promise((function(n,a){t.SkillQueryController.init(e),n()}))}},{key:"init_SkillSimulator",value:function(e){var t=this;return this.SkillSimulatorController=new N(this.skillRoot),new Promise((function(n,a){t.SkillSimulatorController.init(e),n()}))}}]),e}(),V=n(31),q=function(){function e(t){l()(this,e),this.name=t,this.frames=[]}return _()(e,[{key:"appendFrame",value:function(e,t){var n=new Y(e,t);return this.frames.push(n),n}}]),e}(),Y=function(){function e(t,n){l()(this,e),this.type=t,this.value=n}return _()(e,[{key:"appendValue",value:function(e){Array.isArray(this.value)||(this.value=[this.value]),this.value.push(e)}}]),e}(),F=q,Q=function(){function e(t,n){l()(this,e),this.parent=t,this.nodes={main:n,content:null,tagName:null},this.status={currentTag:null,readRecords:[]},this.listeners={showTagButton:null}}return _()(e,[{key:"init",value:function(){var e=C.a.element.simpleCreateHTML,t=this.nodes.main,n=this;t.classList.add("Cyteria","window","top-right","pop-right","frozen-top","hidden");var a=e("div","top"),i=e("span",["Cyteria","Button","icon-only"],Object(P.c)("arrow-left"));i.addEventListener("click",(function(e){var t=n.status.readRecords;0!==t.length&&(n.status.currentTag=null,n.showTag(t.pop()))})),a.appendChild(i);var r=e("span","name"),c=e("span",["Cyteria","Button","icon-only","button"],Object(P.c)("close"));c.addEventListener("click",(function(e){n.nodes.main.classList.add("hidden")})),a.appendChild(i),a.appendChild(r),a.appendChild(c),t.appendChild(a);var s=e("div","content");return t.appendChild(s),this.nodes.content=s,this.nodes.tagName=r,this.listeners.showTagButton=function(e){n.showTagByName(this.innerText)},this}},{key:"showTagByName",value:function(e){var t=this.parent.tagList.find((function(t){return t.name===e}));""!==e&&void 0!==t?this.showTag(t):console.warn("Unknow Tag Name: "+e)}},{key:"showTag",value:function(e){var t=this;null!==this.status.currentTag&&this.status.readRecords.push(this.status.currentTag),this.status.currentTag=e;var n=document.createDocumentFragment();e.frames.forEach((function(e){return n.appendChild(t.createFrameHTML(e))})),C.a.element.removeAllChild(this.nodes.content),this.nodes.content.appendChild(n),this.nodes.main.classList.remove("hidden"),this.nodes.tagName.innerHTML=e.name}},{key:"createFrameHTML",value:function(e){function t(e){return e.replace(/\(\(!((?:(?!\(\().)+)\)\)/g,(function(){return n(arguments.length<=1?void 0:arguments[1])})).replace(/\(\(((?:(?!\(\().)+)\)\)/g,(function(){return a(arguments.length<=1?void 0:arguments[1])})).replace(/#([^\s]+)\s(\w?)/g,(function(){var e='<span class="show_tag_button">'+(arguments.length<=1?void 0:arguments[1])+"</span>";return""!==(arguments.length<=2?void 0:arguments[2])&&(e+=" "),e}))}function n(e){return'<span class="light">'+e+"</span>"}function a(e){return'<span class="separate_text">'+e+"</span>"}var i=e.type,r=C.a.element.simpleCreateHTML("div","frame-"+i);switch(i){case"category":r.innerHTML='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="1250pt" height="1250pt" viewBox="0 0 1250 1250" preserveAspectRatio="xMidYMid meet"><g transform="translate(0,1250) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M1468 11473 c-29 -34 -57 -98 -75 -173 -15 -62 -18 -111 -16 -277 l2 -201 -102 34 c-112 38 -148 42 -168 18 -15 -18 -20 -114 -8 -164 4 -19 15 -100 24 -180 56 -495 128 -757 306 -1113 76 -153 214 -396 234 -412 7 -6 78 -141 158 -300 364 -728 566 -1026 995 -1466 l163 -168 -50 -203 c-137 -556 -160 -746 -168 -1370 l-5 -428 -55 -82 c-70 -108 -155 -259 -203 -361 -96 -210 -132 -392 -146 -743 l-7 -159 27 -32 c67 -80 199 -105 317 -59 37 14 69 22 73 19 3 -3 8 2 12 11 3 9 15 16 25 16 10 0 62 11 115 25 102 27 198 71 252 118 l34 28 62 -133 c35 -73 79 -160 99 -193 l35 -60 -221 -6 c-231 -6 -245 -8 -492 -40 -169 -23 -172 -23 -310 -44 -354 -53 -385 -59 -435 -85 -45 -23 -42 -7 -42 -205 0 -139 -13 -216 -66 -397 -33 -112 -30 -132 28 -159 33 -16 55 -15 368 12 389 32 865 65 1177 79 264 13 1155 6 1345 -9 74 -6 218 -18 320 -26 221 -19 532 -53 920 -101 157 -19 292 -36 300 -36 8 0 107 9 220 21 113 11 230 23 260 26 30 3 150 14 265 24 950 88 1527 101 2285 51 204 -14 768 -65 993 -91 150 -17 181 -18 205 -7 30 15 28 -14 15 253 -5 103 -2 140 21 264 24 132 25 146 11 167 -8 13 -24 24 -34 24 -10 0 -72 13 -137 29 -467 115 -798 166 -1299 201 -88 7 -183 15 -211 18 l-52 7 80 95 c111 131 206 278 295 455 42 82 77 152 79 154 2 2 31 -19 66 -46 152 -120 255 -176 398 -218 52 -15 163 -61 245 -100 173 -84 230 -105 286 -105 73 0 119 41 148 130 10 32 6 47 -43 175 -168 435 -316 713 -586 1103 -127 183 -128 184 -134 332 -2 63 -7 122 -9 130 -3 8 -11 94 -17 190 -10 158 -18 263 -36 445 -3 33 -12 112 -20 175 -9 63 -18 144 -21 180 -3 36 -9 70 -13 75 -4 6 -13 39 -20 75 -16 81 -73 261 -114 360 -30 72 -31 76 -16 107 8 18 50 68 93 111 42 43 77 86 77 94 0 9 25 41 55 72 30 30 55 59 55 63 1 15 196 243 397 465 155 171 503 524 658 669 154 143 526 469 739 649 293 248 381 320 387 320 10 0 119 180 119 197 0 8 5 23 10 34 23 42 -16 69 -124 89 -33 5 -61 12 -63 13 -2 2 17 22 43 43 72 61 142 134 147 154 7 27 -18 56 -51 63 -52 10 -661 67 -822 76 -219 13 -695 5 -870 -14 -571 -62 -1039 -208 -1763 -551 -295 -140 -1053 -539 -1090 -573 -16 -16 -24 -16 -80 -5 -399 82 -658 113 -957 114 -287 2 -542 -22 -1110 -104 l-235 -34 -110 70 c-194 125 -241 156 -658 427 -423 275 -994 659 -1350 908 -230 161 -773 557 -1107 808 -118 89 -225 167 -237 173 -31 17 -68 15 -85 -5z"/></g></svg><span>'+t(e.value)+"</span>";break;case"caption":r.innerHTML=t(e.value);break;case"list":var c=C.a.element.simpleCreateHTML("ul",["Cyteria","ul","simple"]);Array.isArray(e.value)?e.value.forEach((function(e){return c.appendChild(C.a.element.simpleCreateHTML("li",null,t(e)))})):c.appendChild(C.a.element.simpleCreateHTML("li",null,t(e.value))),r.appendChild(c)}return this.processShowTagButton(r.querySelectorAll(".show_tag_button")),r}},{key:"processShowTagButton",value:function(e){var t=this;Array.from(e).forEach((function(e){return e.addEventListener("click",t.listeners.showTagButton)}))}}]),e}();function G(e,t,n,a){var i,r,c={TAG_NAME:0,FRAME_NAME:1,FRAME_VALUE:2},s={TAG_NAME:0,FRAME_VALUE:1},l=function(e,i){var r=t[e][c[i]];return[n&&n[e]?n[e][s[i]]:null,a&&a[e]?a[e][s[i]]:null,r].find((function(e){return""!==e&&null!=e}))||""};t.forEach((function(t,n){if(0!=n)try{var a=l(n,"TAG_NAME");""!==a&&(i=e.appendTag(a));var c=t[1],s=l(n,"FRAME_VALUE");""!==c?r=i.appendFrame(c,s):r.appendValue(s)}catch(e){console.warn("Error when load Tag-List."),console.log(e),console.log(t)}}))}var z,X,$,Z=function(){function e(){l()(this,e),this.tagList=[]}return _()(e,[{key:"init",value:function(e){var t=this;return h()(i.a.mark((function n(){var a,r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.controller=new Q(t,e.mainNode).init(),a=[],(r=[]).push(Object(b.b)(Object(b.a)("Tag"),a,0)),1!=Object(f.f)()&&(c=Object(b.a)("Tag/language"),r.push(Object(b.b)(c[Object(f.f)()],a,1)),Object(f.f)()!=Object(f.h)()&&r.push(Object(b.b)(c[Object(f.h)()],a,2))),n.next=8,d()(Promise.all(r));case 8:return void(n.next=10);case 10:G.apply(void 0,[t].concat(a));case 11:case"end":return n.stop()}}),n)})))()}},{key:"appendTag",value:function(e){var t=new F(e);return this.tagList.push(t),t}}]),e}(),J=n(11),ee=n(18),te=function(){return{"Page Title":"布偶的魔法書｜技能查詢","Top List":{"item 1":"布偶的魔法書","item 2":"技能查詢"},"Loading Message":{"Character Stats":"載入角色能力清單","Skill Data":"載入技能資料","Init Skill Data":"初始化技能資料","Tag Data":"載入標籤清單"},"Skill Query":{"Skill Element":{"skill tree: from":"所屬技能樹"},Controller:{"main weapon":"主手武器","sub weapon":"副手武器","body armor":"身體裝備","equipment: unlimited":"無限制","switch display":"切換顯示","current skill":"當前技能","skill attribute icon tips: title":"圖示說明","select skill history date: title":"選擇改版記錄"},"Analysis Skill":{"unknow date":"未知的日期","no data":"此技能資料尚未齊全。","equipment not confirm":"所選取的裝備無法使用此技能。","Main Weapon List":["單手劍","雙手劍","弓","弩","法杖","魔導具","拳套","旋風槍","拔刀劍","雙劍","空手"],"Sub Weapon List":["箭矢","盾牌","小刀","魔導具","拳套","拔刀劍","無裝備"],"Body Armor List":["輕量化","重量化","一般","無裝備"],"mp cost":"MP消耗",range:"射程","skill type":"類型","damage type":"傷害類型","proration type":"慣性類型","in combo":"連擊","action time":"動作時間","casting time":"詠唱時間","charging time":"蓄力時間","skill type: List":["瞬發","須詠唱","須蓄力","被動","EX技能"],"damage type: List":["物理","魔法"],"proration type: List":["物理","魔法","一般攻擊"],"in combo: List":["可以放入連擊","無法放入連擊","不可放入連擊的第一招"],"action time: List":["極慢","慢","稍慢","一般","稍快","快","極快"],"range: no limit":"無限制","skill formula: STR":"角色STR","skill formula: DEX":"角色DEX","skill formula: INT":"角色INT","skill formula: AGI":"角色AGI","skill formula: VIT":"角色VIT","skill formula: BSTR":"角色基礎STR","skill formula: BDEX":"角色基礎DEX","skill formula: BINT":"角色基礎INT","skill formula: BAGI":"角色基礎AGI","skill formula: BVIT":"角色基礎VIT","skill formula: shield_refining":"盾精煉值","skill formula: dagger_atk":"小刀ATK","skill formula: target_def":"目標DEF","skill formula: target_level":"目標Lv","skill formula: guard_power":"阻擋力%","character level":"角色等級","skill level":"技能等級",physical:"物理",magic:"魔法","normal attack":"一般攻擊","damage proration type: none":"不受慣性影響","effective proration type: none":"不影響慣性","damage proration: title":"傷害慣性","effective proration: title":"造成慣性","element: neutral":"無屬性","element: fire":"火屬性","element: water":"水屬性","element: earth":"地屬性","element: wind":"風屬性","element: light":"光屬性","element: dark":"暗屬性","element: arrow":"套用箭矢屬性","element: one hand sword":"套用單手劍屬性","target type: self":"自身","target type: party":"全隊伍","target type: party & is place":"區域內的隊伍成員","target type: aura":"光環內的隊伍成員","target type: target":"目標",radius:"半徑","sector: angle":"夾角","effective area: title":"類別","effective area type: circle":"圓形","effective area type: line":"直線型","effective area type: sector":"扇型","move distanve: title":"移動距離","effective area: character position":"角色位置","effective area: target position":"目標位置","effective area: end position":"終點位置","effective area: target front":"目標身前","effective area: target behind":"目標身後","formula text: replace":{"Math.floor":"向下取整","Math.max":"取最大值","Math.min":"取最小值"},"branch development controller":{"title: default":"預設","title: not default":"非預設"},branch:{stack:{"base name":"技能層數","min value":"最小值","max value":"最大值"},damage:{"title type: one":"單下傷害","title type: total":"總傷害","title type: each":"每下傷害","title type: normal attack":"一般攻擊傷害提升","valid base: atk":"有效ATK","valid base: matk":"有效MATK","skill constant":"技能常數","skill multiplier":"技能倍率","skill extra constant":"額外加成",chance:"機率",ailment:"異常狀態","target type: single":"單體","target type: AOE":"範圍","is place":"設置型","frequency: unit":"次","judgment: common":"共同判定","judgment: separate":"分開判定","cycle: pretext":"每",extra:{"base title":"額外效果"}},effect:{"condition: auto":"施放成功後","condition: hit":"命中成功後","condition: next":"下一招技能","condition: next-2":["之後的","招技能"],"condition: passive":"被動效果",duration:"持續時間","duration-2":["","秒內"]},heal:{"title: hp":"HP恢復","title: mp":"MP恢復","frequency: unit":"次"},reference:{"reference url":"資料參考連結"}},"button text":{"to skill":"查看"}},"button text":{back:"上一個"}}}},ne=function(){return{"Page Title":"Cy's Grimoire｜Skill Query","Top List":{"item 1":"Cy's Grimoire","item 2":"Skills Query"},"Loading Message":{"Character Stats":"Load Character Stats Data...","Skill Data":"Load Skill Data...","Init Skill Data":"Initialize Skill Data...","Tag Data":"Load Tag Data...",error:"...Loading failed."},"Skill Query":{"Skill Element":{"skill tree: from":"Skill Tree"},Controller:{"main weapon":"Main Weapon","sub weapon":"Sub Weapon","body armor":"Body Armor","equipment: unlimited":"Unlimited","switch display":"Switch Display","current skill":"Current Skill"},"Analysis Skill":{"character level":"Character Level","skill level":"Skill Level",physical:"Physical",magic:"Magic","normal attack":"Normal Attack",branch:{damage:{"valid base: atk":"Valid ATK","valid base: matk":"Valid MATK","skill constant":"Skill Constant","skill multiplier":"Skill Multiplier","skill extra constant":"Extra Constant",chance:"Chance",ailment:"Ailment"}}},"button text":{back:"Previous Skill"}}}},ae=function(){return{"Top List":{"item 1":"Cy's Grimoire","item 2":"スキルインフォ"}}},ie=function(){return{"Top List":{"item 1":"布偶的魔法书","item 2":"技能查询"},"Loading Message":{"Character Stats":"载入角色能力清单","Skill Data":"载入技能资料","Init Skill Data":"初始化技能资料","Tag Data":"载入标签清单"},"Skill Query":{"Skill Element":{"skill tr​​ee: from":"所属技能树"},Controller:{"main weapon":"主手武器","sub weapon":"副手武器","body armor":"身体装备","equipment: unlimited":"无限制","switch display":"切换显示","current skill":"当前技能","skill attribute icon tips: title":"图示说明","select skill history date: title":"选择改版记录"},"Analysis Skill":{"unknow date":"未知的日期","no data":"此技能资料尚未齐全。 ","equipment not confirm":"所选取的装备无法使用此技能。 ","Main Weapon List":["单手剑","双手剑","弓","弩","法杖","魔导具","拳套","旋风枪","拔刀剑","双剑","空手"],"Sub Weapon List":["箭矢","盾牌","小刀","魔导具","拳套","拔刀剑","无装备"],"Body Armor List":["轻量化","重量化","一般","无装备"],"mp cost":"MP消耗",range:"射程","skill type":"类型","damage type":"伤害类型","proration type":"惯性类型","in combo":"连击","action time":"动作时间","casting time":"咏唱时间","charging time":"蓄力时间","skill type: List":["瞬发","须咏唱","须蓄力","被动","EX技能"],"damage type: List":["物理","魔法"],"proration type: List":["物理","魔法","一般攻击"],"in combo: List":["可以放入连击","无法放入连击","不可放入连击的第一招"],"action time: List":["极慢","慢","稍慢","一般","稍快","快","极快"],"range: no limit":"无限制","skill formula: STR":"角色STR","skill formula: DEX":"角色DEX","skill formula: INT":"角色INT","skill formula: AGI":"角色AGI","skill formula: VIT":"角色VIT","skill formula: BSTR":"角色基础STR","skill formula: BDEX":"角色基础DEX","skill formula: BINT":"角色基础INT","skill formula: BAGI":"角色基础AGI","skill formula: BVIT":"角色基础VIT","skill formula: shield_refining":"盾精炼值","skill formula: dagger_atk":"小刀ATK","skill formula: target_def":"目标DEF","skill formula: target_level":"目标Lv","skill formula: guard_power":"阻挡力%","character level":"角色等级","skill level":"技能等级",physical:"物理",magic:"魔法","normal attack":"一般攻击","damage proration type: none":"不受惯性影响","effective proration type: none":"不影响惯性","damage proration: title":"伤害惯性","effective proration: title":"造成惯性","element: neutral":"无属性","element: fire":"火属性","element: water":"水属性","element: earth":"地属性","element: wind":"风属性","element: light":"光属性","element: dark":"暗属性","element: arrow":"套用箭矢属性","element: one hand sword":"套用单手剑属性","target type: self":"自身","target type: party":"全队伍","target type: party & is place":"区域内的队伍成员","target type: aura":"光环内的队伍成员","target type: target":"目标",radius:"半径","sector: angle":"夹角","effective area: title":"类别","effective area type: circle":"圆形","effective area type: line":"直线型","effective area type: sector":"扇型","move distanve: title":"移动距离","effective area: character position":"角色位置","effective area: target position":"目标位置","effective area: end position":"终点位置","effective area: target front":"目标身前","effective area: target behind":"目标身后","formula text: replace":{"Math.floor":"向下取整","Math.max":"取最大值","Math.min":"取最小值"},"branch development controller":{"title: default":"预设","title: not default":"非预设"},branch:{stack:{"base name":"技能层数","min value":"最小值","max value":"最大值"},damage:{"title type: one":"单下伤害","title type: total":"总伤害","title type: each":"每下伤害","title type: normal attack":"一般攻击伤害提升","valid base: atk":"有效ATK","valid base: matk":"有效MATK","skill constant":"技能常数","skill multiplier":"技能倍率","skill extra constant":"额外加成",chance:"机率",ailment:"异常状态","target type: single":"单体","target type: AOE":"范围","is place":"设置型","frequency: unit":"次","judgment: common":"共同判定","judgment: separate":"分开判定","cycle: pretext":"每",extra:{"base title":"额外效果"}},effect:{"condition: auto":"施放成功后","condition: hit":"命中成功后","condition: next":"下一招技能","condition: next-2":["之后的","招技能"],"condition: passive":"被动效果",duration:"持续时间","duration-2":["","秒内"]},heal:{"title: hp":"HP恢复","title: mp":"MP恢复","frequency: unit":"次"},reference:{"reference url":"资料参考连结"}},"button text":{"to skill":"查看"}},"button text":{back:"上一个"}}}};try{i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(ee.a)({languageData:{zh_tw:te,en:ne,ja:ae,zh_cn:ie}}),c.a.SkillSystem=new H,c.a.CharacterSystem=new V.a,c.a.TagSystem=new Z,e.next=6,i.a.awrap(Object(J.f)(Object(f.g)("Loading Message/Character Stats"),Object(f.g)("Loading Message/Skill Data"),Object(f.g)("Loading Message/Tag Data")));case 6:return z=e.sent,X=[c.a.CharacterSystem.init_statList(),c.a.SkillSystem.init(),c.a.TagSystem.init({mainNode:document.getElementById("tag-scope")})],e.next=10,i.a.awrap(Promise.all(X.map((function(e,t){return e.next().then((function(){return Object(J.c)(z[t])})).catch((function(){return Object(J.b)(z[t])}))}))));case 10:return e.next=12,i.a.awrap(X[0].next());case 12:return e.next=14,i.a.awrap(X[1].next());case 14:return e.next=16,i.a.awrap(X[2].next());case 16:return e.next=18,i.a.awrap(Object(J.f)(Object(f.g)("Loading Message/Init Skill Data")));case 18:return $=e.sent,e.next=21,i.a.awrap(c.a.SkillSystem.init_SkillQuery(document.getElementById("SkillQuery")).then((function(){return Object(J.c)($)})).catch((function(e){console.log(e),Object(J.b)($)})));case 21:Object(ee.b)(),Object(J.e)()&&Object(J.a)();case 23:case"end":return e.stop()}}))}catch(e){Object(J.d)(e),console.log(e)}}]);