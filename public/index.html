<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
  <meta charset="UTF-8">
  <title>布偶的魔法書｜Cy's Grimoire</title>
  <meta name="description" content="關於托蘭異世錄，一名小玩家自製的網頁。 The web tool of Toram Online.">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
  <meta name="keywords" content="toram,toram online,cysgrimoire,布偶的魔法書,托蘭魔法書,toram grimoire">
  <meta name="author" content="Cyteria">
  <link rel="manifest" href="<%= BASE_URL %>manifest.json">
  <link rel="icon" sizes="any" href="<%= BASE_URL %>imgs/favicon/favicon.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="<%= BASE_URL %>imgs/favicon/favicon16.png">
  <link rel="icon" type="image/png" sizes="24x24" href="<%= BASE_URL %>imgs/favicon/favicon24.png">
  <link rel="icon" type="image/png" sizes="32x32" href="<%= BASE_URL %>imgs/favicon/favicon32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="<%= BASE_URL %>imgs/favicon/favicon48.png">
  <link rel="icon" type="image/png" sizes="64x64" href="<%= BASE_URL %>imgs/favicon/favicon64.png">
  <link rel="icon" type="image/png" sizes="128x128" href="<%= BASE_URL %>imgs/favicon/favicon128.png">
  <link rel="shortcut icon" type="image/x-icon" sizes="16x16" href="<%= BASE_URL %>imgs/favicon/favicon16.ico">
  <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">

  <% if (process.env.NODE_ENV === 'production') { %>
    <script defer src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/papaparse@5.3.1/papaparse.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/vue@3.2.20/dist/vue.global.prod.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/vue-router@4.0.11/dist/vue-router.global.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/vuex@4.0.2/dist/vuex.global.min.js"></script>
  <% } %>
</head>

<body>
  <noscript>
    <strong>We're sorry but this page doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    <strong>很抱歉，此網站無法在禁用JavaScript的情況下運作。請到瀏覽器的設定中開啟JavaScript。</strong>
  </noscript>
  <img src="<%= BASE_URL %>imgs/favicon/favicon128.png" style="display: none">
  <div id="app"></div>
  <div id="app-modals"></div>

  <div id="app--error" data-flag="0" style="max-width: 800px; margin: 16px auto;"></div>
  <script id="app--error--script">
    (function() {
      window.onerror = function(message, source, line) {
        const el = document.getElementById('app--error');
        if (el) {
          if (el.getAttribute('data-flag') === '0') {
            el.setAttribute('data-flag', '1');
            const top = document.createElement('div');
            top.innerText = '發生未知的錯誤，請將下方的錯誤訊息回報給作者。\nAn unknown error has occurred, please report the error message below to the author.';
            top.style.marginBottom = '32px';
            top.style.padding = '16px';
            el.appendChild(top);
          }
          const row = document.createElement('div');
          row.innerText = message + '\n\nsource: ' + source + '\nline: ' + line;
          row.style.marginBottom = '16px';
          row.style.padding = '16px';
          el.appendChild(row);
        }
        console.log(error);
      };
      setTimeout(function() {
        const el = document.getElementById('app--error--script');
        if (el) {
          el.parentElement.removeChild(el);
        }
      }, 100);
    })();
  </script>
</body>

</html>
